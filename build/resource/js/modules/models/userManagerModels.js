define(["backbone","controls/Common","controls/Ajax","controls/Dialog","i18n/"+global.language],function(e,t,n,r,i){var s=e.Model,o=i.userManager,u=i.common;return{AccountRuleModel:s.extend({sync:function(e,r,i){var s={url:t.getUrlByName("getAccountRule"),data:i,success:function(e){r.clear({silent:!0}),r.set(e)},fail:function(e){}};n.request(s,!1,!0)}}),TopDptModel:s.extend({sync:function(e,i,s){var u={url:s.url,data:s.data,success:function(e){i.clear({silent:!0}),i.set(e)},fail:function(e){r.tips(t.mergeErrMsg(o.getDeptFail,e))}};n.request(u,!1,!0)}}),UsersModel:s.extend({sync:function(e,i,s){var u={url:s.url,data:s.data,success:function(e){i.clear({silent:!0}),i.set(e)},fail:function(e){r.tips(t.mergeErrMsg(o.getUserInfoFail,e))}};n.request(u)}}),AddUserModel:s.extend({sync:function(e,i,s){var u={url:t.getUrlByName("addUser"),data:s,success:function(e){i.trigger("change")},fail:function(e){r.tips(t.mergeErrMsg(o.addUserFail,e))}};n.request(u)}}),ManageDeptMemberModel:s.extend({sync:function(e,i,s){var u={url:t.getUrlByName("manageDeptMember"),data:s,success:function(e){i.clear({silent:!0}),i.set({op:s.op})},fail:function(e){var n;switch(s.op){case"add":n=o.addDeptUserFail;break;case"remove":n=o.outUserFail;break;default:}r.tips(t.mergeErrMsg(n,e))}};n.request(u)}}),UpdateUserModel:s.extend({sync:function(e,i,s){var u={url:t.getUrlByName("updateUser"),data:s,success:function(e){i.trigger("change")},fail:function(e){r.tips(t.mergeErrMsg(o.updateUserFail,e))}};n.request(u)}}),UserDetailModel:s.extend({sync:function(e,i,s){var u={url:t.getUrlByName("getUser"),data:s,success:function(e){i.clear({silent:!0}),i.set(e)},fail:function(e){e.code=="UNACTIVED"?r.tips(o.unactived):r.tips(t.mergeErrMsg(o.getUserInfoFail,e))}};n.request(u)}}),DelUserModel:s.extend({sync:function(e,i,s){var u={url:s.url,data:s.data,success:function(e){i.trigger("change")},fail:function(e){r.tips(t.mergeErrMsg(o.delUserFail,e))}};n.request(u)}}),BatchImpDetailModel:s.extend({sync:function(e,i,s){var u={url:t.getUrlByName("getBatchImpDetail"),data:s,success:function(e){i.clear({silent:!0}),i.set(e)},fail:function(e){r.tips(t.mergeErrMsg(o.getImpFail,e)),i.clear({silent:!0}),i.set({result:"fail"})}};n.request(u)}}),AddDeptModel:s.extend({sync:function(e,i,s){var u={url:t.getUrlByName("addDept"),data:s,success:function(e){i.clear({silent:!0}),i.set(e)},fail:function(e){r.tips(t.mergeErrMsg(o.addDeptFail,e))}};n.request(u)}}),DeptDetailModel:s.extend({sync:function(e,i,s){var u={url:t.getUrlByName("getDeptDetail"),data:s,success:function(e){i.clear({silent:!0}),i.set(e)},fail:function(e){r.tips(t.mergeErrMsg(o.getDeptInfoFail,e))}};n.request(u)}}),UpdateDeptModel:s.extend({sync:function(e,i,s){var u={url:t.getUrlByName("updateDept"),data:s,success:function(e){i.clear({silent:!0}),i.set({updateModel:s})},fail:function(e){r.tips(t.mergeErrMsg(o.editDeptFail,e))}};n.request(u)}}),DelDeptModel:s.extend({sync:function(e,i,s){var u={url:t.getUrlByName("delDept"),data:s,success:function(e){i.trigger("change")},fail:function(e){r.tips(t.mergeErrMsg(o.delDeptFail,e))}};n.request(u)}}),SearchUserModel:s.extend({sync:function(e,i,s){var o={url:s.url,data:s.data,success:function(e){i.clear({silent:!0}),i.set(e,{silent:!0}),i.set({keyword:s.data.userId})},fail:function(e){r.tips(t.mergeErrMsg(u.searchFail,e))}};n.request(o)}}),DeptUnUsed:s.extend({sync:function(e,i,s){var o={url:t.getUrlByName("getDeptUnUsed"),data:s,success:function(e){i.clear({silent:!0}),i.set(e,{silent:!0}),i.set({type:s.type})},fail:function(e){r.tips(t.mergeErrMsg("获取部门可用空间失败",e))}};n.request(o)}})}});