!function(e){"function"==typeof define&&define.amd?define("validate",["jquery"],e):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void (t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.on("click.validate",":submit",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(this).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(this).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.on("submit.validate",function(t){function r(){var r,i;return n.settings.submitHandler?(n.submitButton&&(r=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),i=n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&r.remove(),void 0!==i?i:!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,r()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):r():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n,r;return e(this[0]).is("form")?t=this.validate().form():(r=[],t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t,t||(r=r.concat(n.errorList))}),n.errorList=r),t},rules:function(t,n){if(this.length){var r,i,s,o,u,f,l=this[0];if(t)switch(r=e.data(l.form,"validator").settings,i=r.rules,s=e.validator.staticRules(l),t){case"add":e.extend(s,e.validator.normalizeRule(n)),delete s.messages,i[l.name]=s,n.messages&&(r.messages[l.name]=e.extend(r.messages[l.name],n.messages));break;case"remove":return n?(f={},e.each(n.split(/\s/),function(t,n){f[n]=s[n],delete s[n],"required"===n&&e(l).removeAttr("aria-required")}),f):(delete i[l.name],s)}return o=e.validator.normalizeRules(e.extend({},e.validator.classRules(l),e.validator.attributeRules(l),e.validator.dataRules(l),e.validator.staticRules(l)),l),o.required&&(u=o.required,delete o.required,o=e.extend({required:u},o),e(l).attr("aria-required","true")),o.remote&&(u=o.remote,delete o.remote,o=e.extend(o,{remote:u})),o}}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){var n=e(t).val();return null!==n&&!!e.trim(""+n)},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:void 0===n?t:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(t,n){var r=[16,17,18,20,35,36,37,38,39,40,45,144,225];9===n.which&&""===this.elementValue(t)||-1!==e.inArray(n.keyCode,r)||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,r){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(r):e(t).addClass(n).removeClass(r)},unhighlight:function(t,n,r){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(r):e(t).removeClass(n).addClass(r)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}."),step:e.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this.form,"validator"),r="on"+t.type.replace(/^validate/,""),i=n.settings;i[r]&&!e(this).is(i.ignore)&&i[r].call(n,this,t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,r=this.groups={};e.each(this.settings.groups,function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){r[n]=t})}),n=this.settings.rules,e.each(n,function(t,r){n[t]=e.validator.normalizeRule(r)}),e(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&e(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n,r,i=this.clean(t),s=this.validationTargetFor(i),o=this,u=!0;return void 0===s?delete this.invalid[i.name]:(this.prepareElement(s),this.currentElements=e(s),r=this.groups[s.name],r&&e.each(this.groups,function(e,t){t===r&&e!==s.name&&(i=o.validationTargetFor(o.clean(o.findByName(e))),i&&i.name in o.invalid&&(o.currentElements.push(i),u=u&&o.check(i)))}),n=this.check(s)!==!1,u=u&&n,n?this.invalid[s.name]=!1:this.invalid[s.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),e(t).attr("aria-invalid",!n)),u},showErrors:function(t){if(t){var n=this;e.extend(this.errorMap,t),this.errorList=e.map(this.errorMap,function(e,t){return{message:e,element:n.findByName(t)[0]}}),this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(e){var t;if(this.settings.unhighlight)for(t=0;e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,""),this.findByName(e[t].name).removeClass(this.settings.validClass);else e.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)e[t]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var r=this.name||e(this).attr("name");return!r&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=e(this).closest("form")[0]),r in n||!t.objectLength(e(this).rules())?!1:(n[r]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([])},reset:function(){this.resetInternals(),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,r,i=e(t),s=t.type;return"radio"===s||"checkbox"===s?this.findByName(t.name).filter(":checked").val():"number"===s&&"undefined"!=typeof t.validity?t.validity.badInput?"NaN":i.val():(n=t.hasAttribute("contenteditable")?i.text():i.val(),"file"===s?"C:\\fakepath\\"===n.substr(0,12)?n.substr(12):(r=n.lastIndexOf("/"),r>=0?n.substr(r+1):(r=n.lastIndexOf("\\"),r>=0?n.substr(r+1):n)):"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,r,i,s=e(t).rules(),o=e.map(s,function(e,t){return t}).length,u=!1,f=this.elementValue(t);if("function"==typeof s.normalizer){if(f=s.normalizer.call(t,f),"string"!=typeof f)throw new TypeError("The normalizer should return a string value.");delete s.normalizer}for(r in s){i={method:r,parameters:s[r]};try{if(n=e.validator.methods[r].call(this,f,t,i.parameters),"dependency-mismatch"===n&&1===o){u=!0;continue}if(u=!1,"pending"===n)return void (this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,i),!1}catch(l){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+i.method+"' method.",l),l instanceof TypeError&&(l.message+=".  Exception occurred when checking element "+t.id+", check the '"+i.method+"' method."),l}}if(!u)return this.objectLength(s)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]},defaultMessage:function(t,n){var r=this.findDefined(this.customMessage(t.name,n.method),this.customDataMessage(t,n.method),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof r?r=r.call(this,n.parameters,t):i.test(r)&&(r=e.validator.format(r.replace(i,"{$1}"),n.parameters)),r},formatAndAdd:function(e,t){var n=this.defaultMessage(e,t);this.errorList.push({message:n,element:e,method:t.method}),this.errorMap[e.name]=n,this.submitted[e.name]=n},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var r,i,s,o,u=this.errorsFor(t),f=this.idOrName(t),l=e(t).attr("aria-describedby");u.length?(u.removeClass(this.settings.validClass).addClass(this.settings.errorClass),u.html(n)):(u=e("<"+this.settings.errorElement+">").attr("id",f+"-error").addClass(this.settings.errorClass).html(n||""),r=u,this.settings.wrapper&&(r=u.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(r):this.settings.errorPlacement?this.settings.errorPlacement(r,e(t)):r.insertAfter(t),u.is("label")?u.attr("for",f):0===u.parents("label[for='"+this.escapeCssMeta(f)+"']").length&&(s=u.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(s)+"\\b"))||(l+=" "+s):l=s,e(t).attr("aria-describedby",l),i=this.groups[t.name],i&&(o=this,e.each(o.groups,function(t,n){n===i&&e("[name='"+o.escapeCssMeta(t)+"']",o.currentForm).attr("aria-describedby",u.attr("id"))})))),!n&&this.settings.success&&(u.text(""),"string"==typeof this.settings.success?u.addClass(this.settings.success):this.settings.success(u,t)),this.toShow=this.toShow.add(u)},errorsFor:function(t){var n=this.escapeCssMeta(this.idOrName(t)),r=e(t).attr("aria-describedby"),i="label[for='"+n+"'], label[for='"+n+"'] *";return r&&(i=i+", #"+this.escapeCssMeta(r).replace(/\s+/g,", #")),this.errors().filter(i)},escapeCssMeta:function(e){return e.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,e(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],e(t).removeClass(this.settings.pendingClass),n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,n){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:n})})},destroy:function(){this.resetForm(),e(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},r=e(t).attr("class");return r&&e.each(r.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},normalizeAttributeRule:function(e,t,n,r){/min|max|step/.test(n)&&(null===t||/number|range|text/.test(t))&&(r=Number(r),isNaN(r)&&(r=void 0)),r||0===r?e[n]=r:t===n&&"range"!==t&&(e[n]=!0)},attributeRules:function(t){var n,r,i={},s=e(t),o=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(r=t.getAttribute(n),""===r&&(r=!0),r=!!r):r=s.attr(n),this.normalizeAttributeRule(i,o,n,r);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var n,r,i={},s=e(t),o=t.getAttribute("type");for(n in e.validator.methods)r=s.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),this.normalizeAttributeRule(i,o,n,r);return i},staticRules:function(t){var n={},r=e.data(t.form,"validator");return r.settings.rules&&(n=e.validator.normalizeRule(r.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(r,i){if(i===!1)return void delete t[r];if(i.param||i.depends){var s=!0;switch(typeof i.depends){case"string":s=!!e(i.depends,n.form).length;break;case"function":s=i.depends.call(n,n)}s?t[r]=void 0!==i.param?i.param:!0:(e.data(n.form,"validator").resetElements(e(n)),delete t[r])}}),e.each(t,function(r,i){t[r]=e.isFunction(i)&&"normalizer"!==r?i(n):i}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,r){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==r?r:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,r){if(!this.depend(r,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var i=e(n).val();return i&&i.length>0}return this.checkable(n)?this.getLength(t,n)>0:t.length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test((new Date(e)).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},minlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r},maxlength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||r>=i},rangelength:function(t,n,r){var i=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r[0]&&i<=r[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},step:function(t,n,r){var i=e(n).attr("type"),s="Step attribute on input type "+i+" is not supported.",o=["text","number","range"],u=new RegExp("\\b"+i+"\\b"),f=i&&!u.test(o.join());if(f)throw new Error(s);return this.optional(n)||t%r===0},equalTo:function(t,n,r){var i=e(r);return this.settings.onfocusout&&i.not(".validate-equalTo-blur").length&&i.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){e(n).valid()}),t===i.val()},remote:function(t,n,r,i){if(this.optional(n))return"dependency-mismatch";i="string"==typeof i&&i||"remote";var s,o,u,f=this.previousValue(n,i);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),f.originalMessage=f.originalMessage||this.settings.messages[n.name][i],this.settings.messages[n.name][i]=f.message,r="string"==typeof r&&{url:r}||r,u=e.param(e.extend({data:t},r.data)),f.old===u?f.valid:(f.old=u,s=this,this.startRequest(n),o={},o[n.name]=t,e.ajax(e.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:o,context:s.currentForm,success:function(e){var r,o,u,a=e===!0||"true"===e;s.settings.messages[n.name][i]=f.originalMessage,a?(u=s.formSubmitted,s.resetInternals(),s.toHide=s.errorsFor(n),s.formSubmitted=u,s.successList.push(n),s.invalid[n.name]=!1,s.showErrors()):(r={},o=e||s.defaultMessage(n,{method:i,parameters:t}),r[n.name]=f.message=o,s.invalid[n.name]=!0,s.showErrors(r)),f.valid=a,s.stopRequest(n,a)}},r)),"pending")}}});var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,r){var i=e.port;"abort"===e.mode&&(n[i]&&n[i].abort(),n[i]=r)}):(t=e.ajax,e.ajax=function(r){var i=("mode"in r?r:e.ajaxSettings).mode,s=("port"in r?r:e.ajaxSettings).port;return"abort"===i?(n[s]&&n[s].abort(),n[s]=t.apply(this,arguments),n[s]):t.apply(this,arguments)});var r=function(e){var t=e.match(/[^\x00-\xff]/ig);return e.length+(t==null?0:t.length)};$.validator.addMethod("domain",function(e,t){var n=/^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/;return n.test(e)},"请输入正确的域名"),$.validator.addMethod("companyName",function(e,t){var n=r(e),i=/^[\u4e00-\u9fff0-9a-z\.\s,_]*$/i,s=/^\s+$/;return n>0&&n<=50&&!s.test(e)&&i.test(e)?!0:!1},"请输入正确的企业名称"),$.validator.addMethod("deptName",function(e,t){var n=r(e),i=/^[\u4e00-\u9fff0-9a-z\s]*$/i,s=/^\s+$/;return n>0&&n<=50&&!s.test(e)&&i.test(e)?!0:!1},"请输入正确的部门名称"),$.validator.addMethod("account",function(e,t){var n=/^[a-z0-9]([0-9a-z\.\-_]{1,19})$/i;return n.test(e)},"请输入正确的用户名"),$.validator.addMethod("fullName",function(e,t){var n=r(e),i=/^[a-zA-z0-9\s\u4e00-\u9fa5]+$/;return e?n<=10&&i.test(e)?!0:!1:!0},"请输入正确的姓名"),$.validator.addMethod("mobilePhone",function(e,t){if(!e)return!0;var n=/^(\+86|86)?(1[3|4|5|7|8][0-9]{9})$/;return n.test(e)},"请输入正确的手机号码"),$.validator.addMethod("companyPswd",function(e,t){var n=/^(?![A-Z]+$)(?![a-z]+$)(?!\d+$)(?![\W_]+$)\S+$/;return n.test(e)},"请输入正确密码"),$.validator.addMethod("remark",function(e,t){if(!e)return!0;var n=r(e);return n<=100?!0:!1},"请输入100字符以内的备注"),$.validator.addMethod("reDeptName",function(e,t){var n=$(t).data("type"),r=$(t).val(),i=$(t).data("deptname"),s,o;return n=="add"?UserManage.deptModel?s=UserManage.deptModel.deptId:s=0:s=UserManage.deptModel.parentId||0,o=_.find(UserManage.deptObj[s],function(e){return n=="edit"?e.name==r&&i!=r:e.name==r}),!o},"部门名称重复")}),global.language=global.language||"zh_CN",define("controls/Common",["jquery","underscore","i18n/"+global.language],function(e,t,n){return{Module:{nowModule:{},callModule:function(e){var n=Array.prototype.slice.call(arguments,0);n.shift();var r=this.nowModule.destroy,i=e.init;i&&t.isFunction(i)&&(r&&t.isFunction(r)&&r.apply(this.nowModule),this.nowModule=e,i.apply(e,n))}},APIObj:{url:"admin.do",fnName:{},getUrlByFnName:function(e){if(e&&this.fnName[e])return[this.url,"?func=",this.fnName[e]].join("");console.log(n.common.invalidFn)}},formatFloat:function(e,t){var n=e.toFixed(t);return parseInt(n,10)==n?parseInt(n,10):n},formatStorageUnit:function(e,t,n){var r=1024,i=1048576,s=1073741824,o=1099511627776,u,a;if(n){switch(n){case"B":u=this.formatFloat(e,1);break;case"K":case"KB":u=this.formatFloat(e/r,1);break;case"M":case"MB":u=this.formatFloat(e/i,1);break;case"G":case"GB":u=this.formatFloat(e/s,1);break;case"T":case"TB":u=this.formatFloat(e/o,1);break;default:}a=n}else e>=o?(u=this.formatFloat(e/o,1),a="TB"):e>=s?(u=this.formatFloat(e/s,1),a="GB"):e>=i?(u=this.formatFloat(e/i,1),a="MB"):e>=r?(u=this.formatFloat(e/r,1),a="KB"):(u=this.formatFloat(e,1),a="B");return t?{num:u,unit:a}:u==0?0:u+a},stringFormat:function(){if(arguments.length==0)return null;var e=arguments[0];for(var t=1;t<arguments.length;t++){var n=new RegExp("\\{"+(t-1)+"\\}","gm");e=e.replace(n,arguments[t])}return e},convertToB:function(e,t){var n;switch(t){case"K":case"KB":n=1024;break;case"M":case"MB":n=1048576;break;case"G":case"GB":n=1073741824;break;case"T":case"TB":n=1099511627776;break;default:n=1}return e*n},formatOutDate:function(e){var t,r;return e>=12?(t=parseInt(e/12,10),r=e%12,[t,n.setting.year,r?r+n.setting.month:""].join("")):e+n.setting.month},getOutDate:function(e){return e==-1?n.setting.forever:this.formatOutDate(e)},getStatus:function(e){var t="";switch(e){case 0:t=n.setting.normal;break;case 1:t=n.setting.locked;break;case 2:t=n.setting.canceled;break;default:t=n.setting.normal}return t},getTemplate:function(t,n){return e("<div/>").html(t).find(n).html()},tpl2Html:function(e,r){var i=t.template(e);return i(t.extend({},{Lang:n},r||{}))},parseURL:function(e){var t=document.createElement("a");return t.href=e,{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,query:t.search,params:function(){var e={},n=t.search.replace(/^\?/,"").split("&"),r=n.length,i=0,s;for(;i<r;i++){if(!n[i])continue;s=n[i].split("="),e[s[0]]=s[1]}return e}(),file:(t.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:t.pathname.replace(/^\//,"").split("/")}},getRootUrl:function(){var e=this.parseURL(window.location.href);return[e.protocol,"://",e.host+"/"].join("")},getFileExt:function(e){if(e!=""){var t="."+e.replace(/.+\./,"");return t}},getLv:function(e){var t=1,r=n.common.weak,i=/[a-zA-z]/,s=/[0-9]/,o=/(?=[\x21-\x7e]+)[^A-Za-z0-9]/;if(i.test(e)&&s.test(e)&&o.test(e))t=3,r=n.common.strong;else if(i.test(e)&&s.test(e)||i.test(e)&&o.test(e)||s.test(e)&&o.test(e))t=2,r=n.common.normal;return{pswdLv:t,pswdLvText:r}},checkPswdLv:function(t,n){var r=this;e(t).off("keyup.lv").on("keyup.lv",function(){var t=e(this),i=t.val(),s=e(n);if(i==""){s.hide();return}s.show();var o=r.getLv(i);s.find("span").attr("class","passwrodLevel Plevel_"+o.pswdLv),s.find("em").text(o.pswdLvText)})},addStyle:function(t,n){var r="temp-style-"+t,i=e("#"+r);i.length&&i.remove();var s=['<style id="',r,'" type="text/css" rel="stylesheet">',n,"</style>"].join("");e(s).appendTo("head")},formatMobile:function(e){if(!e)return"";var t="+86";if(e.indexOf("86")<=-1||e.indexOf("86")>1)e=t+e;return e},mergeErrMsg:function(e,t){return e+" "+(t.code||t.summary||"")}}}),define("controls/List",["jquery","underscore"],function(e,t){var n=function(e){this.option=e,this.data=this.option.data,this.option.operate&&(this.operateList=this.option.operate.list),this.Fn={};var n=this;return this.operateList&&this.operateList.length&&t.each(this.operateList,function(e){n.Fn[e.action]=e.onClick}),t.each(this.option.columns,function(e){e.action&&(n.Fn[e.action]=e.onClick)}),this.init(),this.html=[],this};return n.prototype={init:function(){this.render(),this.initEvents(),this.option.hasCheckBtn&&this.initCheck()},getTitleHtml:function(){var e=this,n=["<tr>"];return this.option.hasCheckBtn&&n.push(['<th width="25" style="padding-left:20px;"><input class="checkAll" type="checkbox"></th>'].join("")),t.each(this.option.columns,function(e){n.push(['<th scope="col"',e.titleStyle?' style="'+e.titleStyle+'"':"",e.titleAttr,">",e.columnName,"</th>"].join(""))}),e.option.operate&&e.option.operate.list&&e.option.operate.list.length&&n.push(['<th scope="col"',e.option.operate.titleStyle?' style="'+e.option.operate.titleStyle+'"':"",e.option.operate.titleAttr,">",e.option.operate.columnName,"</th>"].join("")),n.push("</tr>"),n.join("")},getListHtml:function(){var e=this,n=[];if(!e.data.length){var r=e.option.columns.length+(e.option.hasCheckBtn?1:0)+(e.option.operate?1:0);return'<tr class="no-data"><td colspan="'+r+'" align="center"><div class="tipsNoDate"><h5><i class="i-noDate"></i></h5><h4>暂无数据</h4></div></td></tr>'}return t.each(e.data,function(r){var i;e.option.rowClass&&typeof e.option.rowClass=="function"&&(i=e.option.rowClass(r));var s=["<tr",i?' class="'+i+'"':"",' data-key="',r[e.option.key],'">'];e.option.hasCheckBtn&&s.push(['<td style="padding-left:20px;"><input type="checkbox" class="list-checkbox" value="',r[e.option.key],'"></td>'].join("")),t.each(e.option.columns,function(e){var t=r[e.columnId],n=e.callback(t,r)||t||"";s.push(['<td data-columnId="',e.columnId,'">',n,"</td>"].join(""))}),e.option.operate&&e.option.operate.list&&e.option.operate.list.length&&(s.push("<td>"),t.each(e.option.operate.list,function(e){s.push(['<a href="javascript:;" class="',e.className,'" data-action="',e.action,'">',e.name,"</a>"].join(""))}),s.push("</td>")),s.push("</tr>"),n.push(s.join(""))}),n.join("")},render:function(){var t=this.getTitleHtml(),n=this.getListHtml(),r=['<div class="tableBox"><table width="100%" class="tableList"><tbody>',t,n,"</tbody></table></div>"];e(this.option.container).html(r.join(""))},initEvents:function(){var n=this;e(this.option.container).off("click.list").on("click.list",function(r){var i=e(r.target),s=i.parents("td").length?i.parents("td"):i,o=i.parents("tr"),u=o.data("key"),a=i.data("action");if(a){var f=t.find(n.data,function(e){return e[n.option.key]==u});n.Fn[a]&&typeof n.Fn[a]=="function"&&n.Fn[a](f,s,o)}})},getSelected:function(){var n=this,r=[];return e(this.option.container).find(".list-checkbox:checked").each(function(){var i=e(this).val(),s=t.find(n.data,function(e){return e[n.option.key]==i});r.push(s)}),r},initCheck:function(){var t=this;this.$container=e(this.option.container),this.$listCheckbox=this.$container.find(".list-checkbox"),this.$checkAll=e(this.option.container).find(".checkAll"),this.$checkAll.off("change.list").on("change.list",function(){var n=e(this).prop("checked");t.$listCheckbox.prop("checked",n)}),this.$listCheckbox.off("change.list").on("change.list",function(){var e=t.$container.find(".list-checkbox:checked").length;t.$checkAll.prop("checked",t.data.length==e)})},destroyEvents:function(){this.$checkAll&&this.$checkAll.off("change.list"),this.$listCheckbox&&this.$listCheckbox.off("change.list")},setData:function(e){this.destroyEvents(),this.data=e,this.init()}},n}),function(e,t){e.sobox={maskIndex:0,showMask:function(n){var r=this;if(n){var i=e(".so-openmask");i.length?r.maskIndex++:(i=e('<div class="so-openmask"></div>'),e("body").append(i),r.maskIndex=1);var s=typeof t.body.style.maxHeight=="undefined"?t:window,o=e(s).height()-18;i.height(n?o+20:0),e(window).resize(function(){var t=e(s).height()-18;i.height(n?t+20:0)}),i.css("z-index",1e3+r.maskIndex*10)}else i=null;return i},show:function(t,n,r){var i=this,s=e(t.obj),o=i.showMask(n);return i.setPos(t),t.onlyOne&&e("body").data("soonlyone",!0),s.css("z-index",1002+i.maskIndex*10).fadeIn(),s.find(".s-close").bind("click",function(){i.hide(s)}),r&&r(),o},hide:function(t,n,r){var i=this,s=e(".so-openmask");e(t).fadeOut("fast",function(){r&&r()}),n&&(i.maskIndex--,s.css("z-index",1e3+i.maskIndex*10),i.maskIndex==0&&s.remove()),e(t).find(".s-close").unbind("click")},drag:function(n,r){function o(e){e==null&&(e=window.event),i.css({left:e.clientX-posX+"px",top:e.clientY-posY+"px"})}var i=e(n),s=e(r);s.mousedown(function(n){n||(n=window.event),posX=n.clientX-parseInt(i.css("left")),posY=n.clientY-parseInt(i.css("top")),e(t).bind("mousemove.drag",function(e){o(e)})}),e(t).mouseup(function(n){n.target==s.get(0)&&e(t).unbind("mousemove.drag")})},setPos:function(n){var r=this,n=e.extend({mode:"center",obj:null,pos:[0,0],offset:[0,0]},n),i=e(n.obj),s=Math.floor(i.height()/2),o=Math.floor(i.width()/2),u=e(window).scrollTop(),a=e(window).height(),f=n.pos[0],l=n.pos[1],c=n.offset[0],h=n.offset[1];i.css({position:"fixed"});if(typeof t.body.style.maxHeight=="undefined"){var p=i.find("select");e("select").not(p).hide()}switch(n.mode){case"win":i.css({left:f+c,top:l+h}),typeof t.body.style.maxHeight=="undefined"&&i.css({position:"absolute",top:u+l+h});break;case"doc":i.css({position:"absolute",left:f+c,top:l+h});break;case"tc":i.css({left:"50%",top:h,marginLeft:-o+c}),typeof t.body.style.maxHeight=="undefined"&&i.css({position:"absolute",top:u+h});break;case"bc":i.css({left:"50%",bottom:h,marginLeft:-o+c}),typeof t.body.style.maxHeight=="undefined"&&i.css({position:"absolute",top:u+h+a});break;default:i.css({top:"50%",left:"50%",marginTop:-s-10+h,marginLeft:-o+c}),typeof t.body.style.maxHeight=="undefined"&&i.css({position:"absolute",top:u+a/2})}},pop:function(t){function f(a){t=e.extend(t,a||{}),t.showTitle&&i.append(s),t.outCloseBtn&&o.addClass("s-sopop-out-close"),i.append(o).append(u),t.height&&t.type!="iframe"&&i.css("height",t.height+"px"),i.css({visibility:t.visibility?"visible":"hidden"}),t.type=="content"&&u.html(t.content);if(t.type=="target"){var f=e(t.target).show();u.append(f)}if(t.type=="iframe"){var c=e('<iframe id="'+t.iframeID+'" name="'+t.iframeID+'" src="'+t.iframe+'" width="100%" height="'+t.height+'" frameborder="0" scrolling="auto"></iframe>');u.html(c)}t.type=="ajax"&&u.load(t.ajax.url,t.ajax.data,function(){n.setPos({mode:t.posType,obj:i,pos:t.pos,offset:t.offset}),t.ajax.callback&&t.ajax.callback()});if(t.btn.length>0){var h=e('<p class="p-so-popBtn"></p>');e.each(t.btn,function(){var t=e.extend({cls:null,text:"确定",link:"#",removePop:!0,callback:function(e){}},this),n=e('<a class="a-sopop-btn" href="'+t.link+'"><span class="s-sopop-btn">'+t.text+"</span></a>");t.cls!==null&&n.addClass(t.cls),n.bind("click",function(){return t.callback&&t.callback(l)&&l(),t.removePop&&l(),t.link==="#"?!1:!0}),h.append(n)}),i.append(h)}e("body").append(i),t.showTitle&&t.drag&&(s.addClass("h2-sopop-move"),n.drag(i,s)),t.beforePop(i,s,o,u),r=n.show({mode:t.posType,obj:i,pos:t.pos,offset:t.offset,onlyOne:t.onlyOne},t.showMask,t.onPop(i)),o.bind("click",function(){l()}),r&&t.maskClick&&r.bind("click",function(){l()})}function l(r){t=e.extend(t,r||{}),n.hide(i,t.showMask),e("body").removeData("soonlyone"),t.target!=null&&e(t.target).appendTo("body").hide(),i.remove(),t.closePop()}var n=this,t=e.extend({type:"content",target:null,content:null,iframe:null,iframeID:"sopop-iframe",ajax:{url:null,data:null,callback:function(){}},posType:"center",pos:[0,0],offset:[0,0],cls:null,width:400,height:null,defaultShow:!0,visibility:!0,title:"提示",showTitle:!0,outCloseBtn:!1,showMask:!0,onlyOne:!1,drag:!0,maskClick:!0,btn:[],beforePop:function(){},onPop:function(){},closePop:function(){}},t||{}),r,i=e('<div class="so-popbox '+(t.cls?t.cls:"")+'" style="width:'+t.width+'px;display:none;"></div>'),s=e('<h2 class="h2-sopop"><span class="s-sopop-title">'+t.title+"</span></h2>"),o=e('<span class="s-sopop-close">[关闭]</span>'),u=e('<div class="so-popbox-cont"></div>'),a=e("body").data("soonlyone");return t.defaultShow&&!a&&f(),{wrap:i,mask:r,opt:t,removePop:l,showPop:f}},alert:function(e,t,n){var r=this;r.pop({cls:"so-popAlert",title:e,width:360,content:t,btn:[{text:"确定"}],closePop:n})},confirm:function(e,t,n,r){var i=this;i.pop({cls:"so-popConfirm",title:e,width:360,content:t,btn:[{text:"确定",callback:function(){n&&n()}},{text:"取消",cls:"a-sopop-cancel",callback:function(){r&&r()}}]})},tip:function(t){var n=this,r=null,t=e.extend({cls:"so-popTip",showTitle:!1,posType:"tc",showMask:!1,width:250,stayTime:5e3,offset:[0,5],closePop:function(){r&&clearTimeout(r)}},t||{}),i=n.pop(t);return t.stayTime>0&&(r=setTimeout(function(){i.removePop()},t.stayTime)),i},loading:function(t){var n=this,t=e.extend({type:"content",cls:"so-loading",showTitle:!1,maskClick:!1,width:100,height:36,content:"",stayTime:0,showMask:!1},t||{}),r=n.pop(t);return t.stayTime>0&&setTimeout(function(){r.removePop()},t.stayTime),{open:r.showPop,close:r.removePop}}},e.fn.extend({soIframePop:function(t){var n=e.extend({type:"iframe",targetTag:"href",splitString:"#soIframe?",width:800,height:480,showTitle:!1},t||{}),r=[];return this.each(function(){var t=e(this),i=t.attr(n.targetTag).split(n.splitString),s=i[0];par=i[1]?i[1].split("&"):"";var u={};e.each(par,function(){var e=this.split("=");u[e[0]]=e[1]}),n=e.extend(n,u||{}),n.showTitle=n.showTitle=="true"?1:+n.showTitle,n.iframe=s,n.defaultShow=!1;var a=e.sobox.pop(n);r.push(a),t.click(function(){return a.showPop(),e(this).data("iframePop",a),!1})}),r},soSidePop:function(t){var n=e(this),r=t.event||"click",i=null;return n.bind(r,function(n){var r=e(this).offset(),s=t.por=="mouse"?[n.pageX,n.pageY]:[r.left,r.top],o=e.extend({showMask:!1,posType:"doc",por:"mouse",pos:s,offset:[10,10],onlyOne:!0,returnFalse:!0},t||{});i=e.sobox.pop(o);if(o.returnFalse)return!1}),t.leaveHide==1&&n.bind("mouseout",function(e){i&&i.removePop()}),n},soOverTip:function(t){var n=e(this),r=e.extend({cls:"so-overTip",showMask:!1,posType:"doc",offset:[10,10],showTitle:!1,onlyOne:!0},t||{}),i=null;return n.mouseenter(function(t){r.pos=[t.pageX,t.pageY],i=e.sobox.pop(r)}).mouseleave(function(){i.removePop()}),n},clickPop:function(t){var t=e.extend({optAll:null},t||{}),n=e(this);n.click(function(){var n=e(this).attr("rel"),r=this,s=e(this).attr("popType")||"target";if(n){var u=t.optAll,a=n.split("."),f=a.length;for(i=0;i<f;i++)u=u[a[i]];var l=n.replace(".","_");optT=e.extend({title:e(this).text(),type:s,target:e("#"+l),iframe:e(this).attr("href")},u),optT.beforePop=function(e,t,n,i){u.beforePop&&u.beforePop.call(r,e,t,n,i)},t.optAll.$pop=e.sobox.pop(optT)}})}})}(jQuery,document),define("sobox",["jquery"],function(){}),define("controls/Dialog",["jquery","underscore","sobox"],function(e,t,n){return{pop:function(n){return n=t.extend({},{width:"auto",btn:[{text:n.okText||"确定",removePop:n.okRemovePop==undefined?!0:n.okRemovePop,callback:n.ok},{text:n.cancelText||"取消",cls:"a-sopop-cancel",removePop:!0,callback:n.cancel}]},n),e.sobox.pop(n)},alert:function(){var t,n,r=function(){};if(arguments.length)switch(arguments.length){case 1:t="提示",n=arguments[0];break;case 2:t=arguments[0],n=arguments[1];break;case 3:t=arguments[0],n=arguments[1],r=arguments[2];break;default:}return e.sobox.alert(t,n,r)},confirm:function(t,n,r,i){var s=['<table width="100%" class="mt_20 mb_20 tipsTable">',"<tbody>","<tr>",'<td align="right" width="60"><i class="i-tips_qa"></i></td>','<td><em class="tipsTxt">',n,"</em></td>","</tr>","</tbody>","</table>"].join("");return e.sobox.pop({title:t,content:s,btn:[{text:"确定",callback:function(){r&&r()}},{text:"取消",cls:"a-sopop-cancel",callback:function(){i&&i()}}]})},tips:function(t,n){return e.sobox.tip({cls:"so-popTip",posType:"ct",content:t,width:"auto",height:38,offset:[0,-75],stayTime:n*1e3||4e3})},warn:function(t,n,r){var i=['<table width="100%" class="mt_20 mb_20 tipsTable">',"<tbody>","<tr>",'<td align="right" width="60"><i class="i-tips"></i></td>','<td><em class="tipsTxt">',t,"</em></td>","</tr>","</tbody>","</table>"].join("");return e.sobox.alert("提示",i,r)},loading:function(t){return e.sobox.loading({cls:"so-loading",stayTime:t*1e3||0,width:100,height:100})}}}),typeof JSON!="object"&&(JSON={}),function(){"use strict";function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value);var gap,indent,meta,rep;typeof JSON.stringify!="function"&&(meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")}),typeof JSON.parse!="function"&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),define("json2",function(){}),define("controls/Ajax",["jquery","underscore","controls/Dialog","json2"],function(e,t,n,r){var i={requestId:0,loadingObj:{},defaultOpts:{type:"POST",data:{},dataType:"json",success:function(){},error:function(){i.loadingObj.close&&i.loadingObj.close(),n.tips("Error Request !")},contentType:"text/plain; charset=UTF-8"},request:function(r,i,s){this.requestId++;var o=this;if(!r.url)return;this.url=r.url,s||(o.loadingObj.close&&o.loadingObj.close(),o.loadingObj=n.loading()),r.data&&r.data.parse&&delete r.data.parse,r.data&&r.data.success&&delete r.data.success,r.data&&r.data.error&&delete r.data.error,r.fail=r.fail||function(e){n.tips("Error:"+e.code)},e.ajax(t.extend({},this.defaultOpts,r,{data:JSON.stringify(r.data),success:function(e){s||o.loadingObj.close();if(!e)return;i?r.success(e):e&&e.code&&e.code=="S_OK"&&e.hasOwnProperty("var")?r.success(e["var"]):r.fail({code:e.code,errorCode:e.errorCode,summary:e.summary})},error:function(e){s||o.loadingObj.close();if(e.status==200||e.status==0){n.tips("登录超时，请重新登录"),t.delay(function(){window.location.reload()},2e3);return}r.fail(e)}}))}};return i}),function($){function init(param,obj){function getParam(){var e="page="+opts.currPage;return opts.ajax.param&&(e+="&"+opts.ajax.param),e}function getPanelTipInfo(){var e="";if(opts.panel.tipInfo_on){var t=document.createElement("span");t=$(t);var n=t.text(opts.panel.tipInfo).text();if(-1!=n.indexOf("{input}")){var r="<input type='text' value='"+opts.currPage+"' >";n=n.replace("{input}",r),n=n.replace("{sumPage}",opts.pageCount),t.html(n),r=t.children(":text:first"),r.css(opts.panel.tipInfo_css),e=t.html()}else if(-1!=n.indexOf("{select}")){for(var i=document.createElement("select"),s=1;parseInt(opts.pageCount)>=s;s++){var o=new Option(s,s);i.options.add(o)}t.html("");var u=n.substr(0,n.indexOf("{select}")),a=n.substr(n.indexOf("{select}")+"{select}".length).replace("{sumPage}",opts.pageCount);t.append(u),t.append(i),t.append(a),e=t.html()}}return e}function onRequest(){debug(opts.id),debug("ajax请求参数列表:"),debug(getParam()),opts.ajax.on?(opts.ajax.ajaxStart(),$.ajax({url:opts.ajax.url,type:opts.ajax.type,data:getParam(),contentType:"application/x-www-form-urlencoded;utf-8",async:!0,cache:!1,timeout:6e4,error:function(){alert("访问服务器超时，请重试，谢谢！")},success:function(e){opts.ajax.ajaxStop(),responseHandle(e),createPageBar()}})):createPageBar()}function responseHandle(data){var pageCountId=opts.ajax.pageCountId,resultPageCount=1;switch(opts.ajax.dataType){case"json":try{data=eval("("+data+")")}catch(err){}finally{resultPageCount=eval("data."+pageCountId)}break;case"xml":try{resultPageCount=$(data).find(pageCountId).text()}catch(e){debug("xml返回数据解析错误，使用默认的pageCount=1"),resultPageCount=1}break;default:try{resultPageCount=$(data).find(":hidden[id='"+pageCountId+"']").val()}catch(e){debug("html返回数据解析错误，使用默认的pageCount=1"),resultPageCount=1}}debug(opts.id),debug("返回总页数:"+resultPageCount),opts.pageCount=resultPageCount,opts.ajax.callback(data)}function createPageBar(){var e=opts.panel.links;opts.currPage=opts.currPage>opts.pageCount?opts.pageCount:opts.currPage;var t=opts.currPage,n=parseInt(opts.pageCount),r=parseInt(opts.pageNumber/2),i=opts.pageNumber,s="";opts.panel.first_on&&(s="<a class='"+(1==t?"disabled":"")+"' href='"+e+"' paged='1'>"+opts.panel.first+"</a>"),opts.panel.prev_on&&(s+=1==t?'<span class="disabled" paged="'+opts.panel.prev+'">'+opts.panel.prev+" </span>":"<a href='"+e+"' paged='"+(t-1)+"'>"+opts.panel.prev+" </a>");var o=lastPage=1;for(o=t-r>0?o=t-r:1,o+i>n?(lastPage=n+1,o=lastPage-i):lastPage=o+i,0>=o&&(o=1),o;lastPage>o;o++)s+=o==t?'<span class="current" paged="'+o+'">'+o+"</span>":"<a href='"+e+"' paged='"+o+"'>"+o+"</a>";opts.panel.next_on&&(s+=t==n?'<span class="disabled" paged="'+opts.panel.next+'">'+opts.panel.next+" </span>":"<a href='"+e+"' paged='"+(t+1)+"'>"+opts.panel.next+" </a>"),opts.panel.last_on&&(s+="<a class='"+(n==t?"disabled":"")+"' href='"+e+"' paged='"+n+"'>"+opts.panel.last+"</a>"),s+=getPanelTipInfo(),debug(opts.id),debug("最终生成菜单："),debug(s),obj.html(s),obj.children("select").val(opts.currPage),obj.children("select").change(function(){var e=parseInt($(this).children("option:selected").val());opts.currPage=e,onRequest()}),obj.children(":text").keyup(function(){var e=$(this),t=$.trim($(this).val());if(0!=t.length){var n=/^\+?[0-9][0-9]*$/;n.exec(t)||e.val(1)}}),obj.children(":text").keypress(function(e){var t=e.which;if(13==t){var n=$.trim($(this).val());obj.children("a").unbind("click"),obj.children("a").each(function(){$(this).click(function(){return!1})}),opts.currPage=n,onRequest()}}),obj.children("a").each(function(){var e=$(this);e.click(function(){if(e.hasClass("disabled"))return;var t=parseInt(e.attr("paged"));return t=t>0?t:1,e.children("a").unbind("click"),e.children("a").each(function(){$(this).click(function(){return!1})}),opts.currPage=t,opts.ajax.onClick(t),onRequest(),$(this).focus(),!1})})}function debug(e){opts.debug&&$.fn.debug(e)}var defaults={currPage:1,pageCount:10,pageNumber:5,cssStyle:"badoo",debug:!1,ajax:{on:!1,type:"POST",pageCountId:"pageCount",url:"jsonTest.php",dataType:"json",param:!1,onClick:function(){return!1},ajaxStart:function(){return!1},ajaxStop:function(){return!1},callback:function(){return!1}},panel:{first:"首页",last:"尾页",next:"下一页",prev:"上一页",first_on:!0,last_on:!0,next_on:!0,prev_on:!0,links:"javascript:;",tipInfo_on:!1,tipInfo:"<span>&nbsp;&nbsp;跳{currText}/{sumPage}页</span>",tipInfo_css:{width:"22px"},tipSelect_on:!1,tipSelect:"跳转到{select} 共{sumPage}页"}},opts=$.extend(!0,defaults,param);opts.id=obj.attr("id"),obj.addClass(opts.cssStyle),onRequest();var method={};return method.id=opts.id,method.getPage=function(){return opts.currPage},method.onReload=function(){debug("reload()"),onRequest()},method.onLoad=function(e){e&&e instanceof Object&&(debug(e),opts.currPage=1,opts.ajax.param=e.param,onRequest())},method.jumpPage=function(e){debug("jumpPage("+e+")"),e=1>e?1:e,e=e>opts.pageCount?opts.pageCount:e,opts.currPage=e,onRequest()},method}$.fn.myPagination=function(e){return init(e,$(this))},$.fn.debug=function(e){window.console&&window.console.log&&console.log(e)}}(jQuery),define("myPagination",["jquery"],function(){}),define("controls/Pager",["jquery","myPagination"],function(e,t){var n=function(e){this.option=e,this.el=e.el,this.pageNo=e.pageNo,this.pageSize=e.pageSize,this.total=e.total,this.onclick=e.onclick,this.cssStyle="manu",this.init()};return n.prototype={getPageCount:function(){return Math.ceil(this.total/this.pageSize)},init:function(){var t=this;e(this.el).myPagination({currPage:t.pageNo,pageCount:t.getPageCount(),pageNumber:10,cssStyle:t.cssStyle,ajax:{on:!1,onClick:t.onclick}})}},n}),define("text",["module"],function(e){"use strict";var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.14",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.lastIndexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i&&i.isBuild&&!i.inlineText){r();return}d.isBuild=i&&i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i[0]==="﻿"&&(i=i.substring(1)),t(i)}catch(s){r&&r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status||0,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r&&r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!modules/../../template/setting.html",[],function(){return'<!--设置总框架-->\r\n<script id="setting-tpl" type="text/x-handlebars-template">\r\n\r\n    <div class="mainTopBar clearfix">\r\n        <div class="searchBox" style="display:none">\r\n            <i class="i-search"></i><input type="text" class="seaInput" value="" placeholder="按名称或域名搜索">\r\n        </div>\r\n\r\n        <div class="secMenu">\r\n            <ul>\r\n                <li data-id="companyManage" style="display:none"><a href="javascript:;" class="act">企业管理</a></li>\r\n                <li data-id="normalSetting"><a href="javascript:;">常规设置</a></li>\r\n                <li data-id="accountSecurity"><a href="javascript:;">账户安全</a></li>\r\n                <!--  <li data-id="messageSetting"><a href="javascript:;">消息设置</a></li>\r\n                 <li data-id="companyDiy"><a href="javascript:;">企业定制</a></li> -->\r\n            </ul>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="container">\r\n\r\n        <!--企业管理-->\r\n        <div id="companyManage" class="tab-li">\r\n\r\n            <div id="listCompany" class="companyManageModule">\r\n                <div class="operaBar clearfix">\r\n                    <div class="fr">\r\n                        <a href="javascript:;" id="company-add" class="btn28 btn_blue1"><i class="i-plus mr_5"></i><em>添加企业</em></a>\r\n                    </div>\r\n\r\n                    <div class="fake_slt fl">\r\n                        <select class="real-select" id="company-type" style="visibility: hidden; ">\r\n                            <option value="-1">所有企业</option>\r\n                            <option value="0">正常企业</option>\r\n                            <option value="1">锁定企业</option>\r\n                            <!--                                     <option value="2">注销企业</option> -->\r\n                        </select>\r\n                    </div>\r\n\r\n                    <a href="javascript:;" id="company-btn" class="btn28 btn_white1 ml_20 fl"><em>锁定</em></a>\r\n\r\n                </div>\r\n                <div class="clearfix" id="company-list"></div>\r\n\r\n                <div class="pager company-list-pager"></div>\r\n            </div>\r\n\r\n            <div id="addCompany" class="companyManageModule">\r\n                <div class="opera_back clearAll">\r\n                    <a href="javascript:;">&lt;返回</a>\r\n                </div>\r\n                <div class="detailCon" id="formCtrl">\r\n                    <form id="formCtrlCon"></form>\r\n                    <ul>\r\n                        <li>\r\n                            <div class="subTitle">&nbsp;</div>\r\n                            <div class="subCon"><a href="javascript:;" id="add-ok" class="btn28 bg_blue"><em>确定</em></a>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <div id="editCompany" class="companyManageModule">\r\n\r\n\r\n                <div class="opera_back clearAll">\r\n                    <a href="javascript:;">&lt;返回</a>\r\n                </div>\r\n\r\n                <div class="detailCon">\r\n                    <h3 class="detTit">企业信息</h3>\r\n                    <form id="formCtrl-edit-form">\r\n                        <ul id="formCtrl-edit"></ul>\r\n                    </form>\r\n                    <ul>\r\n                        <li>\r\n                            <div class="subTitle">&nbsp;</div>\r\n                            <div class="subCon">\r\n                                <a id="edit-ok" href="javascript:;" class="btn28 bg_blue"><em>确定</em></a><a id="edit-cancel" href="javascript:;" class="btn28 btn_blue1 ml_10"><em>取消</em></a>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <div id="showCompany" class="companyManageModule">\r\n\r\n                <div class="opera_back clearAll">\r\n                    <a href="javascript:;">&lt;返回</a>\r\n                </div>\r\n                <div class="detailCon">\r\n                    <h3 class="detTit">企业信息</h3>\r\n                    <ul id="detail-con"></ul>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n        <!--企业管理-->\r\n\r\n\r\n        <!--账户安全-->\r\n        <div style="display: none" id="accountSecurity" class="detailCon tab-li">\r\n            <h3 class="detTit mt_20">密码强度</h3>\r\n            <ul>\r\n                <li>\r\n                    <div class="subCon">最小密码长度 <select class="account-select" id="min-length">\r\n                        <option value="6">6</option>\r\n                        <option value="8">8</option>\r\n                        <option value="10">10</option>\r\n                        <option value="12">12</option>\r\n                    </select>\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <div class="subCon">\r\n                        <input type="checkbox" class="mr_10" id="account-checkbox-1">\r\n                        <em><label for="account-checkbox-1">必须包含特殊字符，如 %&@#！% </label></em>\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <div class="subCon">\r\n                        <input type="checkbox" class="mr_10" id="account-checkbox-2">\r\n                        <em><label for="account-checkbox-2">必须包含大写字母</label></em>\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <div class="subCon">\r\n                        <input type="checkbox" class="mr_10" id="account-checkbox-3">\r\n                        <em><label for="account-checkbox-3">禁止使用弱密码，包括一种字符和连续字符，如123456/aaaaaa</label></em>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n\r\n            <h3 class="detTit mt_20">密码定期修改</h3>\r\n            <ul>\r\n                <li>\r\n                    <div class="subCon">\r\n\r\n                        <select class="account-select" id="password-duration">\r\n                            <option value="-1">从不</option>\r\n                            <option value="1">一个月</option>\r\n                            <option value="2">二个月</option>\r\n                            <option value="3">三个月</option>\r\n                            <option value="6">半年</option>\r\n                            <option value="12">一年</option>\r\n                        </select>\r\n\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <div class="subCon"><a id="account-ok" href="javascript:;" class="btn28 bg_blue"><em>确定</em></a>\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <!--账户安全-->\r\n\r\n        <!--常规设置-->\r\n        <div id="normalSetting" style="display:none" class="tab-li">\r\n            <div class="detailCon">\r\n                <form id="nsForm">\r\n                    <ul id="ns-ul"></ul>\r\n                    <ul>\r\n                        <li>\r\n                            <div class="subTitle">&nbsp;</div>\r\n                            <div class="subCon">\r\n                                <a id="s-btn-ok" href="javascript:;" class="btn28 bg_blue"><em>确定</em></a>\r\n                                <!--<a id="s-btn-cancel" href="javascript:;" class="btn28 btn_blue1 ml_10"><em>取消</em></a>-->\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n        <!--常规设置-->\r\n    </div>\r\n\r\n</script><!--设置总框架-->\r\n\r\n\r\n<!--常规设置-->\r\n<script type="text/x-handlebars-template" id="normalSetting2">\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> 单文件上传最大值（G）：</div>\r\n        <div class="subCon">\r\n            <input name="diskMaxFileUpLoad" id="diskMaxFileUpLoad" type="text" class="inputAdd" placeholder="请输入数字" value="<%-diskMaxFileUpLoad%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> 单用户个人盘最大容量（MB）：</div>\r\n        <div class="subCon">\r\n            <input name="diskMaxUserCapacity" id="diskMaxUserCapacity" type="text" class="inputAdd" placeholder="请输入数字" value="<%-diskMaxUserCapacity%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> 单用户团队协作最大容量（MB）：\r\n        </div>\r\n        <div class="subCon">\r\n            <input name="maxUserTeamCapacity" id="maxUserTeamCapacity" type="text" class="inputAdd" placeholder="请输入数字" value="<%-maxUserTeamCapacity%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> 单用户可创建团队协作个数（个）：</div>\r\n        <div class="subCon">\r\n            <input name="maxUserTeamNum" id="maxUserTeamNum" type="text" class="inputAdd" placeholder="请输入数字" value="<%-maxUserTeamNum%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> 单用户团队协作成员上限（人）：</div>\r\n        <div class="subCon">\r\n            <input name="maxUserTeamMember" id="maxUserTeamMember" type="text" class="inputAdd" placeholder="请输入数字" value="<%-maxUserTeamMember%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> 文件外链下载次数（次）：</div>\r\n        <div class="subCon">\r\n            <input name="diskMaxFileDownNum" id="diskMaxFileDownNum" type="text" class="inputAdd" placeholder="请输入数字" value="<%-diskMaxFileDownNum%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> 文件外链下载有效期（天）：</div>\r\n        <div class="subCon">\r\n            <input name="diskMaxFileDownTime" id="diskMaxFileDownTime" type="text" class="inputAdd" placeholder="请输入数字" value="<%-diskMaxFileDownTime%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> 历史版本保留个数（个）：</div>\r\n        <div class="subCon">\r\n            <input name="diskVersionsNum" id="diskVersionsNum" type="text" class="inputAdd" placeholder="请输入数字" value="<%-diskVersionsNum%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> 历史版本保留时间（天）：</div>\r\n        <div class="subCon">\r\n            <input name="diskVersionsTime" id="diskVersionsTime" type="text" class="inputAdd" placeholder="请输入数字" value="<%-diskVersionsTime%>">\r\n        </div>\r\n    </li>\r\n</script><!--常规设置-->\r\n\r\n\r\n<!--添加企业-->\r\n<script id="formCtrlCon-tpl" type="text/template">\r\n    <h3 class="detTit"><%=Lang.setting.companyInfo%></h3>\r\n    <ul>\r\n        <li>\r\n            <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.companyName%>：</div>\r\n            <div class="subCon">\r\n                <input name="company-name" id="company-name" type="text" class="inputAdd" placeholder="<%=Lang.setting.typeName%>" value="">\r\n            </div>\r\n        </li>\r\n        <li>\r\n            <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.domain%>：</div>\r\n            <div class="subCon">\r\n                <input name="company-domain" id="company-domain" type="text" class="inputAdd" placeholder="<%=Lang.setting.typeDomain%>" value="">\r\n            </div>\r\n        </li>\r\n        <li>\r\n            <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.timeout%>：</div>\r\n            <div class="subCon">\r\n                <div class="fake_slt">\r\n\r\n                    <select class="real-select" id="timeout" style="visibility: hidden; ">\r\n                        <option value="3">3<%= Lang.setting.month %></option>\r\n                        <option value="6">6<%= Lang.setting.month %></option>\r\n                        <option value="12">1<%= Lang.setting.year %></option>\r\n                        <option value="-1"><%= Lang.setting.forever %></option>\r\n                        <option value="0">自定义</option>\r\n                    </select>\r\n\r\n                </div>\r\n            </div>\r\n        </li>\r\n\r\n        <li class="customTime" style="display:none">\r\n            <div class="subTitle"><em class="col_red">*</em> 自定义时间：</div>\r\n            <div class="subCon">\r\n                <input style="width:170px" id="timeout2" name="timeout2" type="text" placeholder="请输入自定义过期时间" class="inputAdd" value=""> 个月\r\n            </div>\r\n        </li>\r\n\r\n        <li>\r\n            <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.space%>：</div>\r\n            <div class="subCon">\r\n                <input name="company-space" id="company-space" type="text" class="inputAdd" placeholder="<%=Lang.setting.typeSpace%>" value="">&nbsp;&nbsp;<select class="unit-select" id="unit-select-add">\r\n                <option value="MB">MB</option>\r\n                <option value="GB">GB</option>\r\n                <!--<option value="T">TB</option>-->\r\n            </select></div>\r\n        </li>\r\n        <li>\r\n            <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.userLimit%>：</div>\r\n            <div class="subCon">\r\n                <input name="user-count" id="user-count" type="text" placeholder="<%=Lang.setting.typeUserLimit%>" class="inputAdd" value="" style="width: 170px"> <%=Lang.setting.userUnit%>\r\n            </div>\r\n        </li>\r\n        <li style="display: none">\r\n            <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.status%>：</div>\r\n            <div class="subCon">\r\n                <div class="fake_slt">\r\n                    <select class="real-select" id="company-status" style="visibility: hidden; ">\r\n                        <option value="0"><%=Lang.setting.normal%></option>\r\n                        <option value="1"><%=Lang.setting.locked%></option>\r\n                        <!--<option value="2"><%=Lang.setting.canceled%></option>-->\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    </ul><h3 class="detTit mt_20"><%=Lang.setting.account%></h3>\r\n    <ul>\r\n        <li>\r\n            <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.account%>：</div>\r\n            <div class="subCon">\r\n                <input name="company-account" id="company-account" type="text" class="inputAdd" placeholder="<%=Lang.setting.typeAccount%>" value="">\r\n            </div>\r\n        </li>\r\n        <li>\r\n            <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.password%>：</div>\r\n            <div class="subCon">\r\n                <input name="company-pswd" id="company-pswd" type="password" autocomplete="off" class="inputAdd" placeholder="<%=Lang.setting.typePwd%>" value="">\r\n            </div>\r\n        </li>\r\n        <li>\r\n            <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.confirmPwd%>：</div>\r\n            <div class="subCon">\r\n                <input name="company-pswd-2" id="company-pswd-2" type="password" autocomplete="off" class="inputAdd" placeholder="<%=Lang.setting.typePwd2%>" value="">\r\n            </div>\r\n        </li>\r\n\r\n    </ul>\r\n\r\n\r\n</script><!--添加企业-->\r\n\r\n<!--编辑企业信息-->\r\n<script id="formCtrl-edit-tpl" type="text/template">\r\n\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.companyName%>：</div>\r\n        <div class="subCon">\r\n            <input name="company-name-edit" id="company-name-edit" type="text" class="inputAdd" placeholder="<%=Lang.setting.typeName%>" value="<%=name%>" data-original="<%=name%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.domain%>：</div>\r\n        <div class="subCon">\r\n            <input name="company-domain-edit" id="company-domain-edit" type="text" placeholder="<%=Lang.setting.typeDomain%>" class="inputAdd" value="<%=domain%>" data-original="<%=domain%>">\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.timeout%>：</div>\r\n        <div class="subCon">\r\n            <div class="fake_slt">\r\n\r\n                <select class="real-select" id="timeout-edit" style="visibility: hidden; " value="<%=outDate%>">\r\n                    <option value="3">3<%= Lang.setting.month %></option>\r\n                    <option value="6">6<%= Lang.setting.month %></option>\r\n                    <option value="12">1<%= Lang.setting.year %></option>\r\n                    <option value="-1"><%= Lang.setting.forever %></option>\r\n                    <option value="0">自定义</option>\r\n                </select>\r\n\r\n            </div>\r\n        </div>\r\n    </li>\r\n\r\n    <li class="customTime" style="display:none">\r\n        <div class="subTitle"><em class="col_red">*</em> 自定义时间：</div>\r\n        <div class="subCon">\r\n            <input style="width:170px" id="timeout3" name="timeout3" type="text" placeholder="请输入自定义过期时间" class="inputAdd" value="<%-(outDateOrg||\'\')%>"> 个月\r\n        </div>\r\n    </li>\r\n\r\n\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.space%>：</div>\r\n        <div class="subCon">\r\n            <input name="company-space-edit" id="company-space-edit" placeholder="<%=Lang.setting.typeSpace%>" type="text" class="inputAdd" value="<%=storage%>">&nbsp;&nbsp;<select class="unit-select" id="unit-select-edit">\r\n            <option value="MB">MB</option>\r\n            <option value="GB">GB</option>\r\n            <!--<option value="T">TB</option>-->\r\n        </select></div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.userLimit%>：</div>\r\n        <div class="subCon">\r\n            <input name="user-count-edit" id="user-count-edit" type="text" placeholder="<%=Lang.setting.typeUserLimit%>" class="inputAdd" value="<%=userLimit%>" style="width: 170px"> <%=Lang.setting.userUnit%>\r\n        </div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><em class="col_red">*</em> <%=Lang.setting.status%>：</div>\r\n        <div class="subCon">\r\n            <div class="fake_slt">\r\n                <select class="real-select" id="company-status-edit" style="visibility: hidden; ">\r\n                    <option value="0"><%=Lang.setting.normal%></option>\r\n                    <option value="1"><%=Lang.setting.locked%></option>\r\n                    <!--<option value="2"><%=Lang.setting.canceled%></option>-->\r\n                </select>\r\n            </div>\r\n        </div>\r\n    </li>\r\n\r\n</script><!--编辑企业信息-->\r\n\r\n<!--显示企业信息-->\r\n<script type="text/template" id="detail-con-tpl">\r\n    <li>\r\n        <div class="subTitle"><%=Lang.setting.companyName%>：</div>\r\n        <div class="subCon"><%=name%></div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><%=Lang.setting.domain%>：</div>\r\n        <div class="subCon"><%=domain%></div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><%=Lang.setting.timeout%>：</div>\r\n        <div class="subCon"><%=outDate%></div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><%=Lang.setting.space%>：</div>\r\n        <div class="subCon"><%=storage%></div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><%=Lang.setting.userLimit%>：</div>\r\n        <div class="subCon"><%=userLimit%></div>\r\n    </li>\r\n    <li>\r\n        <div class="subTitle"><%=Lang.setting.status%>：</div>\r\n        <div class="subCon"><%=status%></div>\r\n    </li>\r\n</script><!--显示企业信息-->\r\n\r\n'}),!function(){if(!window.CustomEvent&&document.createEventObject)return void (window.CustomEvent=function(e,t){if(!arguments.length)throw new Error("Not enough arguments");var n={type:e,bubbles:!1,cancelable:!1,detail:null},r=document.createEventObject();for(var i in n)r[i]=n[i];for(var i in t)r[i]=t[i];return r});try{new CustomEvent("test")}catch(e){var t=function(e,t){if(!arguments.length)throw new Error("Not enough arguments");var n={bubbles:!1,cancelable:!1,detail:null};for(var r in t)n[r]=t[r];var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),i};t.prototype=(window.CustomEvent||window.Event).prototype,window.CustomEvent=t}}(),function(){if(!document.addEventListener&&window.Element&&window.Event){var e="__events",t="__immediateStopped";Event.prototype.NONE=Event.NONE=0,Event.prototype.CAPTURING_PHASE=Event.CAPTURING_PHASE=1,Event.prototype.AT_TARGET=Event.AT_TARGET=2,Event.prototype.BUBBLING_PHASE=Event.BUBBLING_PHASE=3,Event.prototype.preventDefault=function(){this.cancelable!==!1&&(this.returnValue=!1)},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},Event.prototype.stopImmediatePropagation=function(){this[t]=this.cancelBubble=!0};for(var n=function(e,t){return e.timeStamp=+(new Date),e.target||(e.target=e.srcElement||t),e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop,e.relatedTarget="mouseover"==e.type?e.fromElement:"mouseout"==e.type?e.toElement:null,e},r=function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];if(i.useCapture==n&&i.listener==t)return r}return-1},i=function(e,t,n){e.currentTarget=n,"function"==typeof t?t.call(n,e):t.handleEvent(e)},s=function(e){for(var t=[];e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t},o=function(n,r,s){n.eventPhase=s;for(var o=0;o<r.length;o++){for(var u=r[o],a=[],f=(u[e]||{})[n.type]||[],l=0;l<f.length;l++){var c=f[l];c.useCapture&&s==Event.BUBBLING_PHASE||(c.useCapture||s!=Event.CAPTURING_PHASE)&&a.push(c.listener)}for(l=0;l<a.length;)try{for(;l<a.length;){var h=a[l++];if(i(n,h,u),n[t])return!0}}catch(p){setTimeout(function(){throw p},0)}if(n.cancelBubble)return!0}return!1},u=function(e){n(e,this);var t=s(e.target);return t.length&&o(e,t,Event.CAPTURING_PHASE)?e.returnValue:o(e,[e.target],Event.AT_TARGET)?e.returnValue:t.length&&e.bubbles!==!1&&(t.reverse(),o(e,t,Event.BUBBLING_PHASE))?e.returnValue:(e.stopPropagation(),e.returnValue)},a={addEventListener:function(t,n,i){var s=this,o=(this[e]||{})[t]||[],a=o.length;if(!(r(o,n,i)>-1)){if(e in this)var f=this[e];else{var f={_handler:function(){u.apply(s,arguments)}};this[e]=f}t in f||(f[t]=[]),f[t].push({listener:n,useCapture:i}),a||this.attachEvent("on"+t,f._handler)}},removeEventListener:function(t,n,i){var s=(this[e]||{})[t]||[],o=r(s,n,i);-1!=o&&(s.splice(o,1),s.length||this.detachEvent("on"+t,this[e]._handler))},dispatchEvent:function(e){return e.returnValue=!0,u.call(this,e)}},f=[Element,window.constructor,document.constructor];f.length;){var l=f.pop();for(var c in a)l.prototype[c]=a[c]}}}(),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),s=i.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),r=0;s>r;){var o;r in i&&(o=i[r],e.call(n,o,r,i)),r++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),i=r.length>>>0;if(0===i)return-1;var s=+t||0;if(Math.abs(s)===1/0&&(s=0),s>=i)return-1;for(n=Math.max(s>=0?s:i-Math.abs(s),0);i>n;){if(n in r&&r[n]===e)return n;n++}return-1}),function(e){var t;if("object"==typeof exports){try{t=require("jquery")}catch(n){}module.exports=e(window,document,t)}else window.Dropkick=e(window,document,window.jQuery)}(function(e,t,n,r){var i,s=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),o=e.parent!==e.self&&location.host===parent.location.host,u=-1!==navigator.appVersion.indexOf("MSIE"),a=function(n,r){var i,s;if(this===e)return new a(n,r);for("string"==typeof n&&"#"===n[0]&&(n=t.getElementById(n.substr(1))),i=0;i<a.uid;i++)if(s=a.cache[i],s instanceof a&&s.data.select===n)return c.extend(s.data.settings,r),s;return n?"SELECT"===n.nodeName?this.init(n,r):void 0:(console.error("You must pass a select to DropKick"),!1)},f=function(){},l={initialize:f,change:f,open:f,close:f,search:"strict",bubble:!0},c={hasClass:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return e&&n.test(e.className)},addClass:function(e,t){e&&!c.hasClass(e,t)&&(e.className+=" "+t)},removeClass:function(e,t){var n=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e&&(e.className=e.className.replace(n," "))},toggleClass:function(e,t){var n=c.hasClass(e,t)?"remove":"add";c[n+"Class"](e,t)},extend:function(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t)for(var n in t)e[n]=t[n]}),e},offset:function(n){var r=n.getBoundingClientRect()||{top:0,left:0},i=t.documentElement,s=u?i.scrollTop:e.pageYOffset,o=u?i.scrollLeft:e.pageXOffset;return{top:r.top+s-i.clientTop,left:r.left+o-i.clientLeft}},position:function(e,t){for(var n={top:0,left:0};e&&e!==t;)n.top+=e.offsetTop,n.left+=e.offsetLeft,e=e.parentNode;return n},closest:function(e,t){for(;e;){if(e===t)return e;e=e.parentNode}return!1},create:function(e,n){var r,i=t.createElement(e);n||(n={});for(r in n)n.hasOwnProperty(r)&&("innerHTML"===r?i.innerHTML=n[r]:i.setAttribute(r,n[r]));return i},deferred:function(t){return function(){var n=arguments,r=this;e.setTimeout(function(){t.apply(r,n)},1)}}};return a.cache={},a.uid=0,a.prototype={add:function(e,n){var r,i,s;"string"==typeof e&&(r=e,e=t.createElement("option"),e.text=r),"OPTION"===e.nodeName&&(i=c.create("li",{"class":"dk-option","data-value":e.value,innerHTML:e.text,role:"option","aria-selected":"false",id:"dk"+this.data.cacheID+"-"+(e.id||e.value.replace(" ","-"))}),c.addClass(i,e.className),this.length+=1,e.disabled&&(c.addClass(i,"dk-option-disabled"),i.setAttribute("aria-disabled","true")),this.data.select.add(e,n),"number"==typeof n&&(n=this.item(n)),this.options.indexOf(n)>-1?n.parentNode.insertBefore(i,n):this.data.elem.lastChild.appendChild(i),i.addEventListener("mouseover",this),s=this.options.indexOf(n),this.options.splice(s,0,i),e.selected&&this.select(s))},item:function(e){return e=0>e?this.options.length+e:e,this.options[e]||null},remove:function(e){var t=this.item(e);t.parentNode.removeChild(t),this.options.splice(e,1),this.data.select.remove(e),this.select(this.data.select.selectedIndex),this.length-=1},init:function(e,n){var r,u=a.build(e,"dk"+a.uid);if(this.data={},this.data.select=e,this.data.elem=u.elem,this.data.settings=c.extend({},l,n),this.disabled=e.disabled,this.form=e.form,this.length=e.length,this.multiple=e.multiple,this.options=u.options.slice(0),this.selectedIndex=e.selectedIndex,this.selectedOptions=u.selected.slice(0),this.value=e.value,this.data.cacheID=a.uid,a.cache[this.data.cacheID]=this,this.data.settings.initialize.call(this),a.uid+=1,this._changeListener||(e.addEventListener("change",this),this._changeListener=!0),!s||this.data.settings.mobile){if(e.parentNode.insertBefore(this.data.elem,e),e.setAttribute("data-dkCacheId",this.data.cacheID),this.data.elem.addEventListener("click",this),this.data.elem.addEventListener("keydown",this),this.data.elem.addEventListener("keypress",this),this.form&&this.form.addEventListener("reset",this),!this.multiple)for(r=0;r<this.options.length;r++)this.options[r].addEventListener("mouseover",this);i||(t.addEventListener("click",a.onDocClick),o&&parent.document.addEventListener("click",a.onDocClick),i=!0)}return this},close:function(){var e,t=this.data.elem;if(!this.isOpen||this.multiple)return!1;for(e=0;e<this.options.length;e++)c.removeClass(this.options[e],"dk-option-highlight");t.lastChild.setAttribute("aria-expanded","false"),c.removeClass(t.lastChild,"dk-select-options-highlight"),c.removeClass(t,"dk-select-open-(up|down)"),this.isOpen=!1,this.data.settings.close.call(this)},open:c.deferred(function(){var n,r,i,s,o,a,f=this.data.elem,l=f.lastChild;return o=u?c.offset(f).top-t.documentElement.scrollTop:c.offset(f).top-e.scrollY,a=e.innerHeight-(o+f.offsetHeight),this.isOpen||this.multiple?!1:(l.style.display="block",n=l.offsetHeight,l.style.display="",r=o>n,i=a>n,s=r&&!i?"-up":"-down",this.isOpen=!0,c.addClass(f,"dk-select-open"+s),l.setAttribute("aria-expanded","true"),this._scrollTo(this.options.length-1),this._scrollTo(this.selectedIndex),void this.data.settings.open.call(this))}),disable:function(e,t){var n="dk-option-disabled";(0===arguments.length||"boolean"==typeof e)&&(t=e===r?!0:!1,e=this.data.elem,n="dk-select-disabled",this.disabled=t),t===r&&(t=!0),"number"==typeof e&&(e=this.item(e)),c[t?"addClass":"removeClass"](e,n)},select:function(e,t){var n,r,i,s,o=this.data.select;if("number"==typeof e&&(e=this.item(e)),"string"==typeof e)for(n=0;n<this.length;n++)this.options[n].getAttribute("data-value")===e&&(e=this.options[n]);return!e||"string"==typeof e||!t&&c.hasClass(e,"dk-option-disabled")?!1:c.hasClass(e,"dk-option")?(r=this.options.indexOf(e),i=o.options[r],this.multiple?(c.toggleClass(e,"dk-option-selected"),i.selected=!i.selected,c.hasClass(e,"dk-option-selected")?(e.setAttribute("aria-selected","true"),this.selectedOptions.push(e)):(e.setAttribute("aria-selected","false"),r=this.selectedOptions.indexOf(e),this.selectedOptions.splice(r,1))):(s=this.data.elem.firstChild,this.selectedOptions.length&&(c.removeClass(this.selectedOptions[0],"dk-option-selected"),this.selectedOptions[0].setAttribute("aria-selected","false")),c.addClass(e,"dk-option-selected"),e.setAttribute("aria-selected","true"),s.setAttribute("aria-activedescendant",e.id),s.className="dk-selected "+i.className,s.innerHTML=i.text,this.selectedOptions[0]=e,i.selected=!0),this.selectedIndex=o.selectedIndex,this.value=o.value,t||this.data.select.dispatchEvent(new CustomEvent("change",{bubbles:this.data.settings.bubble})),e):void 0},selectOne:function(e,t){return this.reset(!0),this._scrollTo(e),this.select(e,t)},search:function(e,t){var n,r,i,s,o,u,a,f,l=this.data.select.options,c=[];if(!e)return this.options;for(t=t?t.toLowerCase():"strict",t="fuzzy"===t?2:"partial"===t?1:0,f=new RegExp((t?"":"^")+e,"i"),n=0;n<l.length;n++)if(i=l[n].text.toLowerCase(),2==t){for(r=e.toLowerCase().split(""),s=o=u=a=0;o<i.length;)i[o]===r[s]?(u+=1+u,s++):u=0,a+=u,o++;s===r.length&&c.push({e:this.options[n],s:a,i:n})}else f.test(i)&&c.push(this.options[n]);return 2===t&&(c=c.sort(function(e,t){return t.s-e.s||e.i-t.i}).reduce(function(e,t){return e[e.length]=t.e,e},[])),c},focus:function(){this.disabled||(this.multiple?this.data.elem:this.data.elem.children[0]).focus()},reset:function(e){var t,n=this.data.select;for(this.selectedOptions.length=0,t=0;t<n.options.length;t++)n.options[t].selected=!1,c.removeClass(this.options[t],"dk-option-selected"),this.options[t].setAttribute("aria-selected","false"),!e&&n.options[t].defaultSelected&&this.select(t,!0);this.selectedOptions.length||this.multiple||this.select(0,!0)},refresh:function(){this.dispose().init(this.data.select,this.data.settings)},dispose:function(){return delete a.cache[this.data.cacheID],this.data.elem.parentNode.removeChild(this.data.elem),this.data.select.removeAttribute("data-dkCacheId"),this},handleEvent:function(e){if(!this.disabled)switch(e.type){case"click":this._delegate(e);break;case"keydown":this._keyHandler(e);break;case"keypress":this._searchOptions(e);break;case"mouseover":this._highlight(e);break;case"reset":this.reset();break;case"change":this.data.settings.change.call(this)}},_delegate:function(t){var n,r,i,s,o=t.target;if(c.hasClass(o,"dk-option-disabled"))return!1;if(this.multiple){if(c.hasClass(o,"dk-option"))if(n=e.getSelection(),"Range"===n.type&&n.collapseToStart(),t.shiftKey)if(i=this.options.indexOf(this.selectedOptions[0]),s=this.options.indexOf(this.selectedOptions[this.selectedOptions.length-1]),r=this.options.indexOf(o),r>i&&s>r&&(r=i),r>s&&s>i&&(s=i),this.reset(!0),s>r)for(;s+1>r;)this.select(r++);else for(;r>s-1;)this.select(r--);else t.ctrlKey||t.metaKey?this.select(o):(this.reset(!0),this.select(o))}else this[this.isOpen?"close":"open"](),c.hasClass(o,"dk-option")&&this.select(o)},_highlight:function(e){var t,n=e.target;if(!this.multiple){for(t=0;t<this.options.length;t++)c.removeClass(this.options[t],"dk-option-highlight");c.addClass(this.data.elem.lastChild,"dk-select-options-highlight"),c.addClass(n,"dk-option-highlight")}},_keyHandler:function(e){var t,n,r=this.selectedOptions,i=this.options,s=1,o={tab:9,enter:13,esc:27,space:32,up:38,down:40};switch(e.keyCode){case o.up:s=-1;case o.down:if(e.preventDefault(),t=r[r.length-1],c.hasClass(this.data.elem.lastChild,"dk-select-options-highlight"))for(c.removeClass(this.data.elem.lastChild,"dk-select-options-highlight"),n=0;n<i.length;n++)c.hasClass(i[n],"dk-option-highlight")&&(c.removeClass(i[n],"dk-option-highlight"),t=i[n]);s=i.indexOf(t)+s,s>i.length-1?s=i.length-1:0>s&&(s=0),this.data.select.options[s].disabled||(this.reset(!0),this.select(s),this._scrollTo(s));break;case o.space:if(!this.isOpen){e.preventDefault(),this.open();break};case o.tab:case o.enter:for(s=0;s<i.length;s++)c.hasClass(i[s],"dk-option-highlight")&&this.select(s);case o.esc:this.isOpen&&(e.preventDefault(),this.close())}},_searchOptions:function(e){var t,n=this,i=String.fromCharCode(e.keyCode||e.which),s=function(){n.data.searchTimeout&&clearTimeout(n.data.searchTimeout),n.data.searchTimeout=setTimeout(function(){n.data.searchString=""},1e3)};this.data.searchString===r&&(this.data.searchString=""),s(),this.data.searchString+=i,t=this.search(this.data.searchString,this.data.settings.search),t.length&&(c.hasClass(t[0],"dk-option-disabled")||this.selectOne(t[0]))},_scrollTo:function(e){var t,n,r,i=this.data.elem.lastChild;return-1===e||"number"!=typeof e&&!e||!this.isOpen&&!this.multiple?!1:("number"==typeof e&&(e=this.item(e)),t=c.position(e,i).top,n=t-i.scrollTop,r=n+e.offsetHeight,void (r>i.offsetHeight?(t+=e.offsetHeight,i.scrollTop=t-i.offsetHeight):0>n&&(i.scrollTop=t)))}},a.build=function(e,t){var n,r,i,s=[],o={elem:null,options:[],selected:[]},u=function(e){var n,r,i,s,a=[];switch(e.nodeName){case"OPTION":n=c.create("li",{"class":"dk-option ","data-value":e.value,innerHTML:e.text,role:"option","aria-selected":"false",id:t+"-"+(e.id||e.value.replace(" ","-"))}),c.addClass(n,e.className),e.disabled&&(c.addClass(n,"dk-option-disabled"),n.setAttribute("aria-disabled","true")),e.selected&&(c.addClass(n,"dk-option-selected"),n.setAttribute("aria-selected","true"),o.selected.push(n)),o.options.push(this.appendChild(n));break;case"OPTGROUP":for(r=c.create("li",{"class":"dk-optgroup"}),e.label&&r.appendChild(c.create("div",{"class":"dk-optgroup-label",innerHTML:e.label})),i=c.create("ul",{"class":"dk-optgroup-options"}),s=e.children.length;s--;a.unshift(e.children[s]));a.forEach(u,i),this.appendChild(r).appendChild(i)}};for(o.elem=c.create("div",{"class":"dk-select"+(e.multiple?"-multi":"")}),r=c.create("ul",{"class":"dk-select-options",id:t+"-listbox",role:"listbox"}),e.disabled&&c.addClass(o.elem,"dk-select-disabled"),o.elem.id=t+(e.id?"-"+e.id:""),c.addClass(o.elem,e.className),e.multiple?(o.elem.setAttribute("tabindex",e.getAttribute("tabindex")||"0"),r.setAttribute("aria-multiselectable","true")):(n=e.options[e.selectedIndex],o.elem.appendChild(c.create("div",{"class":"dk-selected "+n.className,tabindex:e.tabindex||0,innerHTML:n?n.text:"&nbsp;",id:t+"-combobox","aria-live":"assertive","aria-owns":r.id,role:"combobox"})),r.setAttribute("aria-expanded","false")),i=e.children.length;i--;s.unshift(e.children[i]));return s.forEach(u,o.elem.appendChild(r)),o},a.onDocClick=function(e){var t,n;if(1!==e.target.nodeType)return!1;null!==(t=e.target.getAttribute("data-dkcacheid"))&&a.cache[t].focus();for(n in a.cache)c.closest(e.target,a.cache[n].data.elem)||n===t||a.cache[n].disabled||a.cache[n].close()},n!==r&&(n.fn.dropkick=function(){var e=Array.prototype.slice.call(arguments);return n(this).each(function(){e[0]&&"object"!=typeof e[0]?"string"==typeof e[0]&&a.prototype[e[0]].apply(new a(this),e.slice(1)):new a(this,e[0]||{})})}),a}),define("dropkick",["jquery"],function(){}),function(e,t){typeof exports=="object"?module.exports=exports=t():typeof define=="function"&&define.amd?define("CryptoJS",[],t):e.CryptoJS=t()}(this,function(){var e=e||function(e,t){var n={},r=n.lib={},i=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),s=r.WordArray=i.extend({init:function(e,n){e=this.words=e||[],n!=t?this.sigBytes=n:this.sigBytes=e.length*4},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;this.clamp();if(r%4)for(var s=0;s<i;s++){var o=n[s>>>2]>>>24-s%4*8&255;t[r+s>>>2]|=o<<24-(r+s)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=i.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){var n=[],r=function(t){var t=t,n=987654321,r=4294967295;return function(){n=36969*(n&65535)+(n>>16)&r,t=18e3*(t&65535)+(t>>16)&r;var i=(n<<16)+t&r;return i/=4294967296,i+=.5,i*(e.random()>.5?1:-1)}};for(var i=0,o;i<t;i+=4){var u=r((o||e.random())*4294967296);o=u()*987654071,n.push(u()*4294967296|0)}return new s.init(n,t)}}),o=n.enc={},u=o.Hex={stringify:function(e){var t=e.words,n=e.sigBytes,r=[];for(var i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push((s>>>4).toString(16)),r.push((s&15).toString(16))}return r.join("")},parse:function(e){var t=e.length,n=[];for(var r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new s.init(n,t/2)}},a=o.Latin1={stringify:function(e){var t=e.words,n=e.sigBytes,r=[];for(var i=0;i<n;i++){var s=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){var t=e.length,n=[];for(var r=0;r<t;r++)n[r>>>2]|=(e.charCodeAt(r)&255)<<24-r%4*8;return new s.init(n,t)}},f=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}},l=r.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){typeof e=="string"&&(e=f.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,u=o*4,a=i/u;t?a=e.ceil(a):a=e.max((a|0)-this._minBufferSize,0);var f=a*o,l=e.min(f*4,i);if(f){for(var c=0;c<f;c+=o)this._doProcessBlock(r,c);var h=r.splice(0,f);n.sigBytes-=l}return new s.init(h,l)},clone:function(){var e=i.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),c=r.Hasher=l.extend({cfg:i.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return(new e.init(n)).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return(new h.HMAC.init(e,n)).finalize(t)}}}),h=n.algo={};return n}(Math);return function(){var t=e,n=t.lib,r=n.WordArray,i=t.enc,s=i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();var i=[];for(var s=0;s<n;s+=3){var o=t[s>>>2]>>>24-s%4*8&255,u=t[s+1>>>2]>>>24-(s+1)%4*8&255,a=t[s+2>>>2]>>>24-(s+2)%4*8&255,f=o<<16|u<<8|a;for(var l=0;l<4&&s+l*.75<n;l++)i.push(r.charAt(f>>>6*(3-l)&63))}var c=r.charAt(64);if(c)while(i.length%4)i.push(c);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=n.charAt(64);if(i){var s=e.indexOf(i);s!=-1&&(t=s)}var o=[],u=0;for(var a=0;a<t;a++)if(a%4){var f=n.indexOf(e.charAt(a-1))<<a%4*2,l=n.indexOf(e.charAt(a))>>>6-a%4*2,c=f|l;o[u>>>2]|=c<<24-u%4*8,u++}return r.create(o,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function f(e,t,n,r,i,s,o){var u=e+(t&n|~t&r)+i+o;return(u<<s|u>>>32-s)+t}function l(e,t,n,r,i,s,o){var u=e+(t&r|n&~r)+i+o;return(u<<s|u>>>32-s)+t}function c(e,t,n,r,i,s,o){var u=e+(t^n^r)+i+o;return(u<<s|u>>>32-s)+t}function h(e,t,n,r,i,s,o){var u=e+(n^(t|~r))+i+o;return(u<<s|u>>>32-s)+t}var n=e,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,u=[];(function(){for(var e=0;e<64;e++)u[e]=t.abs(t.sin(e+1))*4294967296|0})();var a=o.MD5=s.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var s=this._hash.words,o=e[t+0],a=e[t+1],p=e[t+2],d=e[t+3],v=e[t+4],m=e[t+5],g=e[t+6],y=e[t+7],b=e[t+8],w=e[t+9],E=e[t+10],S=e[t+11],x=e[t+12],N=e[t+13],C=e[t+14],k=e[t+15],L=s[0],A=s[1],O=s[2],M=s[3];L=f(L,A,O,M,o,7,u[0]),M=f(M,L,A,O,a,12,u[1]),O=f(O,M,L,A,p,17,u[2]),A=f(A,O,M,L,d,22,u[3]),L=f(L,A,O,M,v,7,u[4]),M=f(M,L,A,O,m,12,u[5]),O=f(O,M,L,A,g,17,u[6]),A=f(A,O,M,L,y,22,u[7]),L=f(L,A,O,M,b,7,u[8]),M=f(M,L,A,O,w,12,u[9]),O=f(O,M,L,A,E,17,u[10]),A=f(A,O,M,L,S,22,u[11]),L=f(L,A,O,M,x,7,u[12]),M=f(M,L,A,O,N,12,u[13]),O=f(O,M,L,A,C,17,u[14]),A=f(A,O,M,L,k,22,u[15]),L=l(L,A,O,M,a,5,u[16]),M=l(M,L,A,O,g,9,u[17]),O=l(O,M,L,A,S,14,u[18]),A=l(A,O,M,L,o,20,u[19]),L=l(L,A,O,M,m,5,u[20]),M=l(M,L,A,O,E,9,u[21]),O=l(O,M,L,A,k,14,u[22]),A=l(A,O,M,L,v,20,u[23]),L=l(L,A,O,M,w,5,u[24]),M=l(M,L,A,O,C,9,u[25]),O=l(O,M,L,A,d,14,u[26]),A=l(A,O,M,L,b,20,u[27]),L=l(L,A,O,M,N,5,u[28]),M=l(M,L,A,O,p,9,u[29]),O=l(O,M,L,A,y,14,u[30]),A=l(A,O,M,L,x,20,u[31]),L=c(L,A,O,M,m,4,u[32]),M=c(M,L,A,O,b,11,u[33]),O=c(O,M,L,A,S,16,u[34]),A=c(A,O,M,L,C,23,u[35]),L=c(L,A,O,M,a,4,u[36]),M=c(M,L,A,O,v,11,u[37]),O=c(O,M,L,A,y,16,u[38]),A=c(A,O,M,L,E,23,u[39]),L=c(L,A,O,M,N,4,u[40]),M=c(M,L,A,O,o,11,u[41]),O=c(O,M,L,A,d,16,u[42]),A=c(A,O,M,L,g,23,u[43]),L=c(L,A,O,M,w,4,u[44]),M=c(M,L,A,O,x,11,u[45]),O=c(O,M,L,A,k,16,u[46]),A=c(A,O,M,L,p,23,u[47]),L=h(L,A,O,M,o,6,u[48]),M=h(M,L,A,O,y,10,u[49]),O=h(O,M,L,A,C,15,u[50]),A=h(A,O,M,L,m,21,u[51]),L=h(L,A,O,M,x,6,u[52]),M=h(M,L,A,O,d,10,u[53]),O=h(O,M,L,A,E,15,u[54]),A=h(A,O,M,L,a,21,u[55]),L=h(L,A,O,M,b,6,u[56]),M=h(M,L,A,O,k,10,u[57]),O=h(O,M,L,A,g,15,u[58]),A=h(A,O,M,L,N,21,u[59]),L=h(L,A,O,M,v,6,u[60]),M=h(M,L,A,O,S,10,u[61]),O=h(O,M,L,A,p,15,u[62]),A=h(A,O,M,L,w,21,u[63]),s[0]=s[0]+L|0,s[1]=s[1]+A|0,s[2]=s[2]+O|0,s[3]=s[3]+M|0},_doFinalize:function(){var e=this._data,n=e.words,r=this._nDataBytes*8,i=e.sigBytes*8;n[i>>>5]|=128<<24-i%32;var s=t.floor(r/4294967296),o=r;n[(i+64>>>9<<4)+15]=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,n[(i+64>>>9<<4)+14]=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,e.sigBytes=(n.length+1)*4,this._process();var u=this._hash,a=u.words;for(var f=0;f<4;f++){var l=a[f];a[f]=(l<<8|l>>>24)&16711935|(l<<24|l>>>8)&4278255360}return u},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});n.MD5=s._createHelper(a),n.HmacMD5=s._createHmacHelper(a)}(Math),function(){var t=e,n=t.lib,r=n.WordArray,i=n.Hasher,s=t.algo,o=[],u=s.SHA1=i.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){var n=this._hash.words,r=n[0],i=n[1],s=n[2],u=n[3],a=n[4];for(var f=0;f<80;f++){if(f<16)o[f]=e[t+f]|0;else{var l=o[f-3]^o[f-8]^o[f-14]^o[f-16];o[f]=l<<1|l>>>31}var c=(r<<5|r>>>27)+a+o[f];f<20?c+=(i&s|~i&u)+1518500249:f<40?c+=(i^s^u)+1859775393:f<60?c+=(i&s|i&u|s&u)-1894007588:c+=(i^s^u)-899497514,a=u,u=s,s=i<<30|i>>>2,i=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+u|0,n[4]=n[4]+a|0},_doFinalize:function(){var e=this._data,t=e.words,n=this._nDataBytes*8,r=e.sigBytes*8;return t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(r+64>>>9<<4)+15]=n,e.sigBytes=t.length*4,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA1=i._createHelper(u),t.HmacSHA1=i._createHmacHelper(u)}(),function(t){var n=e,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,u=[],a=[];(function(){function e(e){var n=t.sqrt(e);for(var r=2;r<=n;r++)if(!(e%r))return!1;return!0}function n(e){return(e-(e|0))*4294967296|0}var r=2,i=0;while(i<64)e(r)&&(i<8&&(u[i]=n(t.pow(r,.5))),a[i]=n(t.pow(r,1/3)),i++),r++})();var f=[],l=o.SHA256=s.extend({_doReset:function(){this._hash=new i.init(u.slice(0))},_doProcessBlock:function(e,t){var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],u=n[4],l=n[5],c=n[6],h=n[7];for(var p=0;p<64;p++){if(p<16)f[p]=e[t+p]|0;else{var d=f[p-15],v=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,m=f[p-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;f[p]=v+f[p-7]+g+f[p-16]}var y=u&l^~u&c,b=r&i^r&s^i&s,w=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),E=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),S=h+E+y+a[p]+f[p],x=w+b;h=c,c=l,l=u,u=o+S|0,o=s,s=i,i=r,r=S+x|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+o|0,n[4]=n[4]+u|0,n[5]=n[5]+l|0,n[6]=n[6]+c|0,n[7]=n[7]+h|0},_doFinalize:function(){var e=this._data,n=e.words,r=this._nDataBytes*8,i=e.sigBytes*8;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=t.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,e.sigBytes=n.length*4,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});n.SHA256=s._createHelper(l),n.HmacSHA256=s._createHmacHelper(l)}(Math),function(){function o(e){return e<<8&4278255360|e>>>8&16711935}var t=e,n=t.lib,r=n.WordArray,i=t.enc,s=i.Utf16=i.Utf16BE={stringify:function(e){var t=e.words,n=e.sigBytes,r=[];for(var i=0;i<n;i+=2){var s=t[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){var t=e.length,n=[];for(var i=0;i<t;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return r.create(n,t*2)}};i.Utf16LE={stringify:function(e){var t=e.words,n=e.sigBytes,r=[];for(var i=0;i<n;i+=2){var s=o(t[i>>>2]>>>16-i%4*8&65535);r.push(String.fromCharCode(s))}return r.join("")},parse:function(e){var t=e.length,n=[];for(var i=0;i<t;i++)n[i>>>1]|=o(e.charCodeAt(i)<<16-i%2*16);return r.create(n,t*2)}}}(),function(){if(typeof ArrayBuffer!="function")return;var t=e,n=t.lib,r=n.WordArray,i=r.init,s=r.init=function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));if(e instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);if(e instanceof Uint8Array){var t=e.byteLength,n=[];for(var r=0;r<t;r++)n[r>>>2]|=e[r]<<24-r%4*8;i.call(this,n,t)}else i.apply(this,arguments)};s.prototype=r}(),function(t){function d(e,t,n){return e^t^n}function v(e,t,n){return e&t|~e&n}function m(e,t,n){return(e|~t)^n}function g(e,t,n){return e&n|t&~n}function y(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}var n=e,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.algo,u=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),a=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),c=i.create([0,1518500249,1859775393,2400959708,2840853838]),h=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=o.RIPEMD160=s.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var s=this._hash.words,o=c.words,p=h.words,w=u.words,E=a.words,S=f.words,x=l.words,T,N,C,k,L,A,O,M,_,D;A=T=s[0],O=N=s[1],M=C=s[2],_=k=s[3],D=L=s[4];var P;for(var n=0;n<80;n+=1)P=T+e[t+w[n]]|0,n<16?P+=d(N,C,k)+o[0]:n<32?P+=v(N,C,k)+o[1]:n<48?P+=m(N,C,k)+o[2]:n<64?P+=g(N,C,k)+o[3]:P+=y(N,C,k)+o[4],P|=0,P=b(P,S[n]),P=P+L|0,T=L,L=k,k=b(C,10),C=N,N=P,P=A+e[t+E[n]]|0,n<16?P+=y(O,M,_)+p[0]:n<32?P+=g(O,M,_)+p[1]:n<48?P+=m(O,M,_)+p[2]:n<64?P+=v(O,M,_)+p[3]:P+=d(O,M,_)+p[4],P|=0,P=b(P,x[n]),P=P+D|0,A=D,D=_,_=b(M,10),M=O,O=P;P=s[1]+C+_|0,s[1]=s[2]+k+D|0,s[2]=s[3]+L+A|0,s[3]=s[4]+T+O|0,s[4]=s[0]+N+M|0,s[0]=P},_doFinalize:function(){var e=this._data,t=e.words,n=this._nDataBytes*8,r=e.sigBytes*8;t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=(n<<8|n>>>24)&16711935|(n<<24|n>>>8)&4278255360,e.sigBytes=(t.length+1)*4,this._process();var i=this._hash,s=i.words;for(var o=0;o<5;o++){var u=s[o];s[o]=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360}return i},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});n.RIPEMD160=s._createHelper(p),n.HmacRIPEMD160=s._createHmacHelper(p)}(Math),function(){var t=e,n=t.lib,r=n.Base,i=t.enc,s=i.Utf8,o=t.algo,u=o.HMAC=r.extend({init:function(e,t){e=this._hasher=new e.init,typeof t=="string"&&(t=s.parse(t));var n=e.blockSize,r=n*4;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();var i=this._oKey=t.clone(),o=this._iKey=t.clone(),u=i.words,a=o.words;for(var f=0;f<n;f++)u[f]^=1549556828,a[f]^=909522486;i.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var r=t.finalize(this._oKey.clone().concat(n));return r}})}(),function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,s=t.algo,o=s.SHA1,u=s.HMAC,a=s.PBKDF2=r.extend({cfg:r.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,r=u.create(n.hasher,e),s=i.create(),o=i.create([1]),a=s.words,f=o.words,l=n.keySize,c=n.iterations;while(a.length<l){var h=r.update(t).finalize(o);r.reset();var p=h.words,d=p.length,v=h;for(var m=1;m<c;m++){v=r.finalize(v),r.reset();var g=v.words;for(var y=0;y<d;y++)p[y]^=g[y]}s.concat(h),f[0]++}return s.sigBytes=l*4,s}});t.PBKDF2=function(e,t,n){return a.create(n).compute(e,t)}}(),function(){var t=e,n=t.lib,r=n.Base,i=n.WordArray,s=t.algo,o=s.MD5,u=s.EvpKDF=r.extend({cfg:r.extend({keySize:4,hasher:o,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){var n=this.cfg,r=n.hasher.create(),s=i.create(),o=s.words,u=n.keySize,a=n.iterations;while(o.length<u){f&&r.update(f);var f=r.update(e).finalize(t);r.reset();for(var l=1;l<a;l++)f=r.finalize(f),r.reset();s.concat(f)}return s.sigBytes=u*4,s}});t.EvpKDF=function(e,t,n){return u.create(n).compute(e,t)}}(),function(){var t=e,n=t.lib,r=n.WordArray,i=t.algo,s=i.SHA256,o=i.SHA224=s.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=4,e}});t.SHA224=s._createHelper(o),t.HmacSHA224=s._createHmacHelper(o)}(),function(t){var n=e,r=n.lib,i=r.Base,s=r.WordArray,o=n.x64={},u=o.Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),a=o.WordArray=i.extend({init:function(e,n){e=this.words=e||[],n!=t?this.sigBytes=n:this.sigBytes=e.length*8},toX32:function(){var e=this.words,t=e.length,n=[];for(var r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return s.create(n,this.sigBytes)},clone:function(){var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length;for(var r=0;r<n;r++)t[r]=t[r].clone();return e}})}(),function(t){var n=e,r=n.lib,i=r.WordArray,s=r.Hasher,o=n.x64,u=o.Word,a=n.algo,f=[],l=[],c=[];(function(){var e=1,t=0;for(var n=0;n<24;n++){f[e+5*t]=(n+1)*(n+2)/2%64;var r=t%5,i=(2*e+3*t)%5;e=r,t=i}for(var e=0;e<5;e++)for(var t=0;t<5;t++)l[e+5*t]=t+(2*e+3*t)%5*5;var s=1;for(var o=0;o<24;o++){var a=0,h=0;for(var p=0;p<7;p++){if(s&1){var d=(1<<p)-1;d<32?h^=1<<d:a^=1<<d-32}s&128?s=s<<1^113:s<<=1}c[o]=u.create(a,h)}})();var h=[];(function(){for(var e=0;e<25;e++)h[e]=u.create()})();var p=a.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){var e=this._state=[];for(var t=0;t<25;t++)e[t]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){var n=this._state,r=this.blockSize/2;for(var i=0;i<r;i++){var s=e[t+2*i],o=e[t+2*i+1];s=(s<<8|s>>>24)&16711935|(s<<24|s>>>8)&4278255360,o=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360;var u=n[i];u.high^=o,u.low^=s}for(var a=0;a<24;a++){for(var p=0;p<5;p++){var d=0,v=0;for(var m=0;m<5;m++){var u=n[p+5*m];d^=u.high,v^=u.low}var g=h[p];g.high=d,g.low=v}for(var p=0;p<5;p++){var y=h[(p+4)%5],b=h[(p+1)%5],w=b.high,E=b.low,d=y.high^(w<<1|E>>>31),v=y.low^(E<<1|w>>>31);for(var m=0;m<5;m++){var u=n[p+5*m];u.high^=d,u.low^=v}}for(var S=1;S<25;S++){var u=n[S],x=u.high,N=u.low,C=f[S];if(C<32)var d=x<<C|N>>>32-C,v=N<<C|x>>>32-C;else var d=N<<C-32|x>>>64-C,v=x<<C-32|N>>>64-C;var k=h[l[S]];k.high=d,k.low=v}var L=h[0],A=n[0];L.high=A.high,L.low=A.low;for(var p=0;p<5;p++)for(var m=0;m<5;m++){var S=p+5*m,u=n[S],O=h[S],M=h[(p+1)%5+5*m],_=h[(p+2)%5+5*m];u.high=O.high^~M.high&_.high,u.low=O.low^~M.low&_.low}var u=n[0],D=c[a];u.high^=D.high,u.low^=D.low}},_doFinalize:function(){var e=this._data,n=e.words,r=this._nDataBytes*8,s=e.sigBytes*8,o=this.blockSize*32;n[s>>>5]|=1<<24-s%32,n[(t.ceil((s+1)/o)*o>>>5)-1]|=128,e.sigBytes=n.length*4,this._process();var u=this._state,a=this.cfg.outputLength/8,f=a/8,l=[];for(var c=0;c<f;c++){var h=u[c],p=h.high,d=h.low;p=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,d=(d<<8|d>>>24)&16711935|(d<<24|d>>>8)&4278255360,l.push(d),l.push(p)}return new i.init(l,a)},clone:function(){var e=s.clone.call(this),t=e._state=this._state.slice(0);for(var n=0;n<25;n++)t[n]=t[n].clone();return e}});n.SHA3=s._createHelper(p),n.HmacSHA3=s._createHmacHelper(p)}(Math),function(){function a(){return s.create.apply(s,arguments)}var t=e,n=t.lib,r=n.Hasher,i=t.x64,s=i.Word,o=i.WordArray,u=t.algo,f=[a(1116352408,3609767458),a(1899447441,602891725),a(3049323471,3964484399),a(3921009573,2173295548),a(961987163,4081628472),a(1508970993,3053834265),a(2453635748,2937671579),a(2870763221,3664609560),a(3624381080,2734883394),a(310598401,1164996542),a(607225278,1323610764),a(1426881987,3590304994),a(1925078388,4068182383),a(2162078206,991336113),a(2614888103,633803317),a(3248222580,3479774868),a(3835390401,2666613458),a(4022224774,944711139),a(264347078,2341262773),a(604807628,2007800933),a(770255983,1495990901),a(1249150122,1856431235),a(1555081692,3175218132),a(1996064986,2198950837),a(2554220882,3999719339),a(2821834349,766784016),a(2952996808,2566594879),a(3210313671,3203337956),a(3336571891,1034457026),a(3584528711,2466948901),a(113926993,3758326383),a(338241895,168717936),a(666307205,1188179964),a(773529912,1546045734),a(1294757372,1522805485),a(1396182291,2643833823),a(1695183700,2343527390),a(1986661051,1014477480),a(2177026350,1206759142),a(2456956037,344077627),a(2730485921,1290863460),a(2820302411,3158454273),a(3259730800,3505952657),a(3345764771,106217008),a(3516065817,3606008344),a(3600352804,1432725776),a(4094571909,1467031594),a(275423344,851169720),a(430227734,3100823752),a(506948616,1363258195),a(659060556,3750685593),a(883997877,3785050280),a(958139571,3318307427),a(1322822218,3812723403),a(1537002063,2003034995),a(1747873779,3602036899),a(1955562222,1575990012),a(2024104815,1125592928),a(2227730452,2716904306),a(2361852424,442776044),a(2428436474,593698344),a(2756734187,3733110249),a(3204031479,2999351573),a(3329325298,3815920427),a(3391569614,3928383900),a(3515267271,566280711),a(3940187606,3454069534),a(4118630271,4000239992),a(116418474,1914138554),a(174292421,2731055270),a(289380356,3203993006),a(460393269,320620315),a(685471733,587496836),a(852142971,1086792851),a(1017036298,365543100),a(1126000580,2618297676),a(1288033470,3409855158),a(1501505948,4234509866),a(1607167915,987167468),a(1816402316,1246189591)],l=[];(function(){for(var e=0;e<80;e++)l[e]=a()})();var c=u.SHA512=r.extend({_doReset:function(){this._hash=new o.init([new s.init(1779033703,4089235720),new s.init(3144134277,2227873595),new s.init(1013904242,4271175723),new s.init(2773480762,1595750129),new s.init(1359893119,2917565137),new s.init(2600822924,725511199),new s.init(528734635,4215389547),new s.init(1541459225,327033209)])},_doProcessBlock:function(e,t){var n=this._hash.words,r=n[0],i=n[1],s=n[2],o=n[3],u=n[4],a=n[5],c=n[6],h=n[7],p=r.high,d=r.low,v=i.high,m=i.low,g=s.high,y=s.low,b=o.high,w=o.low,E=u.high,S=u.low,x=a.high,T=a.low,N=c.high,C=c.low,k=h.high,L=h.low,A=p,O=d,M=v,_=m,D=g,P=y,H=b,B=w,j=E,F=S,I=x,q=T,R=N,U=C,z=k,X=L;for(var V=0;V<80;V++){var $=l[V];if(V<16)var J=$.high=e[t+V*2]|0,Q=$.low=e[t+V*2+1]|0;else{var G=l[V-15],Y=G.high,Z=G.low,et=(Y>>>1|Z<<31)^(Y>>>8|Z<<24)^Y>>>7,tt=(Z>>>1|Y<<31)^(Z>>>8|Y<<24)^(Z>>>7|Y<<25),nt=l[V-2],rt=nt.high,it=nt.low,st=(rt>>>19|it<<13)^(rt<<3|it>>>29)^rt>>>6,ot=(it>>>19|rt<<13)^(it<<3|rt>>>29)^(it>>>6|rt<<26),ut=l[V-7],at=ut.high,ft=ut.low,lt=l[V-16],ct=lt.high,ht=lt.low,Q=tt+ft,J=et+at+(Q>>>0<tt>>>0?1:0),Q=Q+ot,J=J+st+(Q>>>0<ot>>>0?1:0),Q=Q+ht,J=J+ct+(Q>>>0<ht>>>0?1:0);$.high=J,$.low=Q}var pt=j&I^~j&R,dt=F&q^~F&U,vt=A&M^A&D^M&D,mt=O&_^O&P^_&P,gt=(A>>>28|O<<4)^(A<<30|O>>>2)^(A<<25|O>>>7),yt=(O>>>28|A<<4)^(O<<30|A>>>2)^(O<<25|A>>>7),bt=(j>>>14|F<<18)^(j>>>18|F<<14)^(j<<23|F>>>9),wt=(F>>>14|j<<18)^(F>>>18|j<<14)^(F<<23|j>>>9),Et=f[V],St=Et.high,xt=Et.low,Tt=X+wt,Nt=z+bt+(Tt>>>0<X>>>0?1:0),Tt=Tt+dt,Nt=Nt+pt+(Tt>>>0<dt>>>0?1:0),Tt=Tt+xt,Nt=Nt+St+(Tt>>>0<xt>>>0?1:0),Tt=Tt+Q,Nt=Nt+J+(Tt>>>0<Q>>>0?1:0),Ct=yt+mt,kt=gt+vt+(Ct>>>0<yt>>>0?1:0);z=R,X=U,R=I,U=q,I=j,q=F,F=B+Tt|0,j=H+Nt+(F>>>0<B>>>0?1:0)|0,H=D,B=P,D=M,P=_,M=A,_=O,O=Tt+Ct|0,A=Nt+kt+(O>>>0<Tt>>>0?1:0)|0}d=r.low=d+O,r.high=p+A+(d>>>0<O>>>0?1:0),m=i.low=m+_,i.high=v+M+(m>>>0<_>>>0?1:0),y=s.low=y+P,s.high=g+D+(y>>>0<P>>>0?1:0),w=o.low=w+B,o.high=b+H+(w>>>0<B>>>0?1:0),S=u.low=S+F,u.high=E+j+(S>>>0<F>>>0?1:0),T=a.low=T+q,a.high=x+I+(T>>>0<q>>>0?1:0),C=c.low=C+U,c.high=N+R+(C>>>0<U>>>0?1:0),L=h.low=L+X,h.high=k+z+(L>>>0<X>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=this._nDataBytes*8,r=e.sigBytes*8;t[r>>>5]|=128<<24-r%32,t[(r+128>>>10<<5)+30]=Math.floor(n/4294967296),t[(r+128>>>10<<5)+31]=n,e.sigBytes=t.length*4,this._process();var i=this._hash.toX32();return i},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});t.SHA512=r._createHelper(c),t.HmacSHA512=r._createHmacHelper(c)}(),function(){var t=e,n=t.x64,r=n.Word,i=n.WordArray,s=t.algo,o=s.SHA512,u=s.SHA384=o.extend({_doReset:function(){this._hash=new i.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=16,e}});t.SHA384=o._createHelper(u),t.HmacSHA384=o._createHmacHelper(u)}(),e.lib.Cipher||function(t){var n=e,r=n.lib,i=r.Base,s=r.WordArray,o=r.BufferedBlockAlgorithm,u=n.enc,a=u.Utf8,f=u.Base64,l=n.algo,c=l.EvpKDF,h=r.Cipher=o.extend({cfg:i.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return typeof e=="string"?C:x}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),p=r.StreamCipher=h.extend({_doFinalize:function(){var e=this._process(!0);return e},blockSize:1}),d=n.mode={},v=r.BlockCipherMode=i.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=d.CBC=function(){function n(e,n,r){var i=this._iv;if(i){var s=i;this._iv=t}else var s=this._prevBlock;for(var o=0;o<r;o++)e[n+o]^=s[o]}var e=v.extend();return e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i),r.encryptBlock(e,t),this._prevBlock=e.slice(t,t+i)}}),e.Decryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,s=e.slice(t,t+i);r.decryptBlock(e,t),n.call(this,e,t,i),this._prevBlock=s}}),e}(),g=n.pad={},y=g.Pkcs7={pad:function(e,t){var n=t*4,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,o=[];for(var u=0;u<r;u+=4)o.push(i);var a=s.create(o,r);e.concat(a)},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}},b=r.BlockCipher=h.extend({cfg:h.cfg.extend({mode:m,padding:y}),reset:function(){h.reset.call(this);var e=this.cfg,t=e.iv,n=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else{var r=n.createDecryptor;this._minBufferSize=1}this._mode=r.call(n,this,t&&t.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else{var t=this._process(!0);e.unpad(t)}return t},blockSize:4}),w=r.CipherParams=i.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),E=n.format={},S=E.OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;if(n)var r=s.create([1398893684,1701076831]).concat(n).concat(t);else var r=t;return r.toString(f)},parse:function(e){var t=f.parse(e),n=t.words;if(n[0]==1398893684&&n[1]==1701076831){var r=s.create(n.slice(2,4));n.splice(0,4),t.sigBytes-=16}return w.create({ciphertext:t,salt:r})}},x=r.SerializableCipher=i.extend({cfg:i.extend({format:S}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),s=i.finalize(t),o=i.cfg;return w.create({ciphertext:s,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=e.createDecryptor(n,r).finalize(t.ciphertext);return i},_parse:function(e,t){return typeof e=="string"?t.parse(e,this):e}}),T=n.kdf={},N=T.OpenSSL={execute:function(e,t,n,r){r||(r=s.random(8));var i=c.create({keySize:t+n}).compute(e,r),o=s.create(i.words.slice(t),n*4);return i.sigBytes=t*4,w.create({key:i,iv:o,salt:r})}},C=r.PasswordBasedCipher=x.extend({cfg:x.cfg.extend({kdf:N}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=r.kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var s=x.encrypt.call(this,e,t,i.key,r);return s.mixIn(i),s},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);r.iv=i.iv;var s=x.decrypt.call(this,e,t,i.key,r);return s}})}(),e.mode.CFB=function(){function n(e,t,n,r){var i=this._iv;if(i){var s=i.slice(0);this._iv=undefined}else var s=this._prevBlock;r.encryptBlock(s,0);for(var o=0;o<n;o++)e[t+o]^=s[o]}var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize;n.call(this,e,t,i,r),this._prevBlock=e.slice(t,t+i)}}),t.Decryptor=t.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,s=e.slice(t,t+i);n.call(this,e,t,i,r),this._prevBlock=s}}),t}(),e.mode.ECB=function(){var t=e.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),t.Decryptor=t.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),t}(),e.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=t*4,i=r-n%r,s=n+i-1;e.clamp(),e.words[s>>>2]|=i<<24-s%4*8,e.sigBytes+=i},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}},e.pad.Iso10126={pad:function(t,n){var r=n*4,i=r-t.sigBytes%r;t.concat(e.lib.WordArray.random(i-1)).concat(e.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=e.words[e.sigBytes-1>>>2]&255;e.sigBytes-=t}},e.pad.Iso97971={pad:function(t,n){t.concat(e.lib.WordArray.create([2147483648],1)),e.pad.ZeroPadding.pad(t,n)},unpad:function(t){e.pad.ZeroPadding.unpad(t),t.sigBytes--}},e.mode.OFB=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,s=this._keystream;i&&(s=this._keystream=i.slice(0),this._iv=undefined),n.encryptBlock(s,0);for(var o=0;o<r;o++)e[t+o]^=s[o]}});return t.Decryptor=n,t}(),e.pad.NoPadding={pad:function(){},unpad:function(){}},function(t){var n=e,r=n.lib,i=r.CipherParams,s=n.enc,o=s.Hex,u=n.format,a=u.Hex={stringify:function(e){return e.ciphertext.toString(o)},parse:function(e){var t=o.parse(e);return i.create({ciphertext:t})}}}(),function(){var t=e,n=t.lib,r=n.BlockCipher,i=t.algo,s=[],o=[],u=[],a=[],f=[],l=[],c=[],h=[],p=[],d=[];(function(){var e=[];for(var t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;var n=0,r=0;for(var t=0;t<256;t++){var i=r^r<<1^r<<2^r<<3^r<<4;i=i>>>8^i&255^99,s[n]=i,o[i]=n;var v=e[n],m=e[v],g=e[m],y=e[i]*257^i*16843008;u[n]=y<<24|y>>>8,a[n]=y<<16|y>>>16,f[n]=y<<8|y>>>24,l[n]=y;var y=g*16843009^m*65537^v*257^n*16843008;c[i]=y<<24|y>>>8,h[i]=y<<16|y>>>16,p[i]=y<<8|y>>>24,d[i]=y,n?(n=v^e[e[e[g^v]]],r^=e[e[r]]):n=r=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],m=i.AES=r.extend({_doReset:function(){var e=this._key,t=e.words,n=e.sigBytes/4,r=this._nRounds=n+6,i=(r+1)*4,o=this._keySchedule=[];for(var u=0;u<i;u++)if(u<n)o[u]=t[u];else{var a=o[u-1];u%n?n>6&&u%n==4&&(a=s[a>>>24]<<24|s[a>>>16&255]<<16|s[a>>>8&255]<<8|s[a&255]):(a=a<<8|a>>>24,a=s[a>>>24]<<24|s[a>>>16&255]<<16|s[a>>>8&255]<<8|s[a&255],a^=v[u/n|0]<<24),o[u]=o[u-n]^a}var f=this._invKeySchedule=[];for(var l=0;l<i;l++){var u=i-l;if(l%4)var a=o[u];else var a=o[u-4];l<4||u<=4?f[l]=a:f[l]=c[s[a>>>24]]^h[s[a>>>16&255]]^p[s[a>>>8&255]]^d[s[a&255]]}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,u,a,f,l,s)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,c,h,p,d,o);var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,s,o,u){var a=this._nRounds,f=e[t]^n[0],l=e[t+1]^n[1],c=e[t+2]^n[2],h=e[t+3]^n[3],p=4;for(var d=1;d<a;d++){var v=r[f>>>24]^i[l>>>16&255]^s[c>>>8&255]^o[h&255]^n[p++],m=r[l>>>24]^i[c>>>16&255]^s[h>>>8&255]^o[f&255]^n[p++],g=r[c>>>24]^i[h>>>16&255]^s[f>>>8&255]^o[l&255]^n[p++],y=r[h>>>24]^i[f>>>16&255]^s[l>>>8&255]^o[c&255]^n[p++];f=v,l=m,c=g,h=y}var v=(u[f>>>24]<<24|u[l>>>16&255]<<16|u[c>>>8&255]<<8|u[h&255])^n[p++],m=(u[l>>>24]<<24|u[c>>>16&255]<<16|u[h>>>8&255]<<8|u[f&255])^n[p++],g=(u[c>>>24]<<24|u[h>>>16&255]<<16|u[f>>>8&255]<<8|u[l&255])^n[p++],y=(u[h>>>24]<<24|u[f>>>16&255]<<16|u[l>>>8&255]<<8|u[c&255])^n[p++];e[t]=v,e[t+1]=m,e[t+2]=g,e[t+3]=y},keySize:8});t.AES=r._createHelper(m)}(),function(){function h(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function p(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}var t=e,n=t.lib,r=n.WordArray,i=n.BlockCipher,s=t.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],a=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],c=s.DES=i.extend({_doReset:function(){var e=this._key,t=e.words,n=[];for(var r=0;r<56;r++){var i=o[r]-1;n[r]=t[i>>>5]>>>31-i%32&1}var s=this._subKeys=[];for(var f=0;f<16;f++){var l=s[f]=[],c=a[f];for(var r=0;r<24;r++)l[r/6|0]|=n[(u[r]-1+c)%28]<<31-r%6,l[4+(r/6|0)]|=n[28+(u[r+24]-1+c)%28]<<31-r%6;l[0]=l[0]<<1|l[0]>>>31;for(var r=1;r<7;r++)l[r]=l[r]>>>(r-1)*4+3;l[7]=l[7]<<5|l[7]>>>27}var h=this._invSubKeys=[];for(var r=0;r<16;r++)h[r]=s[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],h.call(this,4,252645135),h.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),h.call(this,1,1431655765);for(var r=0;r<16;r++){var i=n[r],s=this._lBlock,o=this._rBlock,u=0;for(var a=0;a<8;a++)u|=f[a][((o^i[a])&l[a])>>>0];this._lBlock=o,this._rBlock=s^u}var c=this._lBlock;this._lBlock=this._rBlock,this._rBlock=c,h.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});t.DES=i._createHelper(c);var d=s.TripleDES=i.extend({_doReset:function(){var e=this._key,t=e.words;this._des1=c.createEncryptor(r.create(t.slice(0,2))),this._des2=c.createEncryptor(r.create(t.slice(2,4))),this._des3=c.createEncryptor(r.create(t.slice(4,6)))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});t.TripleDES=i._createHelper(d)}(),function(){function o(){var e=this._S,t=this._i,n=this._j,r=0;for(var i=0;i<4;i++){t=(t+1)%256,n=(n+e[t])%256;var s=e[t];e[t]=e[n],e[n]=s,r|=e[(e[t]+e[n])%256]<<24-i*8}return this._i=t,this._j=n,r}var t=e,n=t.lib,r=n.StreamCipher,i=t.algo,s=i.RC4=r.extend({_doReset:function(){var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[];for(var i=0;i<256;i++)r[i]=i;for(var i=0,s=0;i<256;i++){var o=i%n,u=t[o>>>2]>>>24-o%4*8&255;s=(s+r[i]+u)%256;var a=r[i];r[i]=r[s],r[s]=a}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});t.RC4=r._createHelper(s);var u=i.RC4Drop=s.extend({cfg:s.cfg.extend({drop:192}),_doReset:function(){s._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});t.RC4Drop=r._createHelper(u)}(),e.mode.CTRGladman=function(){function n(e){if((e>>24&255)===255){var t=e>>16&255,n=e>>8&255,r=e&255;t===255?(t=0,n===255?(n=0,r===255?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}function r(e){return(e[0]=n(e[0]))===0&&(e[1]=n(e[1])),e}var t=e.lib.BlockCipherMode.extend(),i=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,i=n.blockSize,s=this._iv,o=this._counter;s&&(o=this._counter=s.slice(0),this._iv=undefined),r(o);var u=o.slice(0);n.encryptBlock(u,0);for(var a=0;a<i;a++)e[t+a]^=u[a]}});return t.Decryptor=i,t}(),function(){function f(){var e=this._X,t=this._C;for(var n=0;n<8;n++)o[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0;for(var n=0;n<8;n++){var r=e[n]+t[n],i=r&65535,s=r>>>16,a=((i*i>>>17)+i*s>>>15)+s*s,f=((r&4294901760)*r|0)+((r&65535)*r|0);u[n]=a^f}e[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,e[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,e[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,e[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,e[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,e[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,e[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,e[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var t=e,n=t.lib,r=n.StreamCipher,i=t.algo,s=[],o=[],u=[],a=i.Rabbit=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv;for(var n=0;n<4;n++)e[n]=(e[n]<<8|e[n]>>>24)&16711935|(e[n]<<24|e[n]>>>8)&4278255360;var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,e[0]&4294901760|e[1]&65535,e[3]<<16|e[3]>>>16,e[1]&4294901760|e[2]&65535,e[0]<<16|e[0]>>>16,e[2]&4294901760|e[3]&65535,e[1]<<16|e[1]>>>16,e[3]&4294901760|e[0]&65535];this._b=0;for(var n=0;n<4;n++)f.call(this);for(var n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var s=t.words,o=s[0],u=s[1],a=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,l=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360,c=a>>>16|l&4294901760,h=l<<16|a&65535;i[0]^=a,i[1]^=c,i[2]^=l,i[3]^=h,i[4]^=a,i[5]^=c,i[6]^=l,i[7]^=h;for(var n=0;n<4;n++)f.call(this)}},_doProcessBlock:function(e,t){var n=this._X;f.call(this),s[0]=n[0]^n[5]>>>16^n[3]<<16,s[1]=n[2]^n[7]>>>16^n[5]<<16,s[2]=n[4]^n[1]>>>16^n[7]<<16,s[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)s[r]=(s[r]<<8|s[r]>>>24)&16711935|(s[r]<<24|s[r]>>>8)&4278255360,e[t+r]^=s[r]},blockSize:4,ivSize:2});t.Rabbit=r._createHelper(a)}(),e.mode.CTR=function(){var t=e.lib.BlockCipherMode.extend(),n=t.Encryptor=t.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,s=this._counter;i&&(s=this._counter=i.slice(0),this._iv=undefined);var o=s.slice(0);n.encryptBlock(o,0),s[r-1]=s[r-1]+1|0;for(var u=0;u<r;u++)e[t+u]^=o[u]}});return t.Decryptor=n,t}(),function(){function f(){var e=this._X,t=this._C;for(var n=0;n<8;n++)o[n]=t[n];t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0;for(var n=0;n<8;n++){var r=e[n]+t[n],i=r&65535,s=r>>>16,a=((i*i>>>17)+i*s>>>15)+s*s,f=((r&4294901760)*r|0)+((r&65535)*r|0);u[n]=a^f}e[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,e[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,e[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,e[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,e[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,e[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,e[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,e[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}var t=e,n=t.lib,r=n.StreamCipher,i=t.algo,s=[],o=[],u=[],a=i.RabbitLegacy=r.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,e[0]&4294901760|e[1]&65535,e[3]<<16|e[3]>>>16,e[1]&4294901760|e[2]&65535,e[0]<<16|e[0]>>>16,e[2]&4294901760|e[3]&65535,e[1]<<16|e[1]>>>16,e[3]&4294901760|e[0]&65535];this._b=0;for(var i=0;i<4;i++)f.call(this);for(var i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var s=t.words,o=s[0],u=s[1],a=(o<<8|o>>>24)&16711935|(o<<24|o>>>8)&4278255360,l=(u<<8|u>>>24)&16711935|(u<<24|u>>>8)&4278255360,c=a>>>16|l&4294901760,h=l<<16|a&65535;r[0]^=a,r[1]^=c,r[2]^=l,r[3]^=h,r[4]^=a,r[5]^=c,r[6]^=l,r[7]^=h;for(var i=0;i<4;i++)f.call(this)}},_doProcessBlock:function(e,t){var n=this._X;f.call(this),s[0]=n[0]^n[5]>>>16^n[3]<<16,s[1]=n[2]^n[7]>>>16^n[5]<<16,s[2]=n[4]^n[1]>>>16^n[7]<<16,s[3]=n[6]^n[3]>>>16^n[1]<<16;for(var r=0;r<4;r++)s[r]=(s[r]<<8|s[r]>>>24)&16711935|(s[r]<<24|s[r]>>>8)&4278255360,e[t+r]^=s[r]},blockSize:4,ivSize:2});t.RabbitLegacy=r._createHelper(a)}(),e.pad.ZeroPadding={pad:function(e,t){var n=t*4;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;while(!(t[n>>>2]>>>24-n%4*8&255))n--;e.sigBytes=n+1}},e}),define("modules/setting",["jquery","underscore","validate","controls/Common","controls/List","controls/Ajax","controls/Pager","controls/Dialog","text!../../template/setting.html","i18n/"+global.language,"dropkick","CryptoJS"],function(e,t,n,r,i,s,o,u,a,f,l,c){window.global=window.global||{user:{},corpList:{}};var h=f.setting,p=f.common,d={nowModule:{},callModule:function(e){var n=Array.prototype.slice.call(arguments,0);n.shift();var r=this.nowModule.destroy,i=e.init;i&&t.isFunction(i)&&(r&&t.isFunction(r)&&r.apply(this.nowModule),this.nowModule=e,i.apply(e,n))}},v={el:".mainContent",model:{corpId:function(){var e=r.parseURL(location.href).params.corpId;return global.user.corpId||e||global.corpList[0].corpId}(),corpData:function(){var e=global.user.corpId||r.parseURL(location.href).params.corpId;return t.find(window.global.corpList,function(t){return t.corpId==e})}()},init:function(){this.render();var t=e(this.el).find(".secMenu li");t.on("click",function(){var n=e(this),r=n.data("id"),i=e("#"+r);i.length&&(t.find("a").removeClass("act"),n.find("a").addClass("act"),e(".tab-li").hide(),i.show(),d.callModule(v[r]))}),global.user.role=="root"?d.callModule(v.companyManage):(e(".searchBox").hide(),e(".secMenu li[data-id=normalSetting]").click())},render:function(){var t=r.getTemplate(a,"#setting-tpl");e(this.el).html(r.tpl2Html(t,{}))}};return v.companyManage={el:"#companyManage",init:function(){d.callModule(this.listCompany),e(".secMenu li[data-id=companyManage]").show(),this.initEvents(),this.isInitialized=!0},initEvents:function(){if(this.isInitialized)return;var t=this;e(this.el).find(".opera_back a").on("click",function(){d.callModule(t)});var n=e(".seaInput");n.on("keyup",function(e){e.keyCode==13?n.val()?t.listCompany.getData(1):u.tips(h.typeKeyword):(e.ctrlKey&&e.keyCode==88||e.keyCode==8||e.keyCode==46)&&n.val()==""&&d.callModule(t)})},listCompany:{el:"#listCompany",ui:{companyType:"#company-type",companyBtn:"#company-btn",companyAdd:"#company-add"},init:function(){e(this.el).show().siblings().hide(),this.initSelect(),this.initEvents(),this.initList(),this.initBtn(),this.initStyle(),this.pageNo=1,this.pageSize=20,this.isInitialized=!0,e(".searchBox").show(),this.getData(0),e(window).off("resize.setting").on("resize.setting",this.initStyle)},initSelect:function(){if(this.isInitialized)return;e(this.ui.companyType).dropkick()},initEvents:function(){var t=this;if(this.isInitialized)return;e(this.ui.companyType).on("change",function(){var n=e(this).val();t.getData(0,n)}),e(this.ui.companyBtn).on("click",function(){var e=t.list.getSelected();if(!e.length){u.tips(h.selectCompany);return}u.confirm(p.tips,h.confirmLock,function(){t.updateCorpStatus(e)})}),e(this.ui.companyAdd).on("click",function(){d.callModule(v.companyManage.addCompany)})},initList:function(){var t=this;this.list=this.list||new i({container:"#company-list",data:[],hasCheckBtn:!0,key:"corpId",columns:[{columnId:"name",columnName:h.companyName,titleStyle:"",titleAttr:'width="20%"',callback:function(e){return['<span class="tf"><a data-action="showDetail" href="javascript:;" title="',e,'">',e,"</a></span>"].join("")},action:"showDetail",onClick:e.proxy(t.showDetail,t)},{columnId:"domain",columnName:h.domain,titleStyle:"",titleAttr:'width="15%"',callback:function(){return""}},{columnId:"status",columnName:h.status,titleStyle:"",titleAttr:'width="10%"',callback:function(e){return r.getStatus(e)}},{columnId:"outDate",columnName:h.timeout,titleStyle:"",titleAttr:'width="15%"',callback:function(e){return r.getOutDate(e)}},{columnId:"storage",columnName:h.space,titleStyle:"",titleAttr:'width="15%"',callback:function(e){return r.formatStorageUnit(e)}},{columnId:"userLimit",columnName:h.userLimit,titleStyle:"",titleAttr:'width="10%"',callback:function(e){return e+h.userUnit}}],operate:{columnName:p.operate,titleStyle:"",titleAttr:'width="15%"',list:[{name:p.edit,action:"edit",className:"mr_10",onClick:e.proxy(t.edit,t)},{name:h.userManage,action:"userManage",className:"mr_10",onClick:e.proxy(t.userManage,t)}]}})},initBtn:function(){var t=global.user.role;t!="root"&&e("#company-add").hide()},initStyle:function(){var e=global.height-49-49-44-10,t=".tableBox{height:"+e+"px}";r.addStyle("setting",t)},getRequestUrl:function(e){return v.dataAPI.getUrlByFnName("listCorp")},getData:function(n,i){var o=this,a=this.getRequestUrl(n),f,l=e(".seaInput").val(),c=e("#company-type").val();if(n)f={url:a,data:{name:l,domain:l,status:c},success:function(e){o.listData=e||[],o.getDataByPage(1)},fail:function(e){u.alert(r.mergeErrMsg(p.searchFail,e))}};else{f={url:a,data:{status:-1},success:function(e){o.listData=e||[],o.getDataByPage(o.pageNo)},fail:function(e){u.tips(r.mergeErrMsg(h.listFail,e))}},i!==undefined&&t.extend(f,{data:{status:i}});var d=l;d&&(f.data.name=d,f.data.domain=d)}f.data.status=c,s.request(f)},getDataByPage:function(e){var t=this,n=(e-1)*this.pageSize,r=this.listData.concat().splice(n,this.pageSize),i={corpList:r,pageNo:e,pageSize:t.pageSize,total:this.listData.length};this.renderList(i)},renderList:function(e){var t=this;this.list.setData(e.corpList),this.pager=new o({el:".company-list-pager",pageNo:e.pageNo,total:e.total,pageSize:e.pageSize,onclick:function(e){t.pageNo=e,t.getDataByPage(e)}})},showDetail:function(e,t){d.callModule(v.companyManage.showCompany,e.corpId)},edit:function(e,t){d.callModule(v.companyManage.editCompany,e.corpId)},userManage:function(e,t){location.href=window.modules.userManager+".do?corpId="+e.corpId},updateCorpStatus:function(e){var n=t.map(e,function(e){return e.corpId}),i={url:v.dataAPI.getUrlByFnName("updateCorp"),data:{corpIds:n,status:1},success:function(e){u.tips(h.editStatusSuc),d.callModule(v.companyManage.listCompany)},fail:function(e){u.tips(r.mergeErrMsg(h.editStatusFail,e))}};s.request(i)},destroy:function(){e(".searchBox").hide()}},addCompany:{el:"#addCompany",ui:{select:"#addCompany .real-select",unitSelect:"#addCompany #unit-select-add",formCtrlCon:"#formCtrlCon",addOk:"#add-ok"},init:function(){e(this.el).show().siblings().hide(),this.render(),this.initSelect(),this.initEvents(),this.addValidateMethod(),this.validate(),this.isInitialized=!0},render:function(){var t=r.getTemplate(a,"#formCtrlCon-tpl"),n=r.tpl2Html(t,{});e("#formCtrlCon").html(n)},initSelect:function(){e(this.ui.select).dropkick(),e(this.ui.unitSelect).dropkick()},initEvents:function(){var t=this;if(this.isInitialized)return;e(this.ui.addOk).on("click",function(){t.add()}),e(this.ui.select).on("change",function(){t.customTime()})},customTime:function(){var t=e("#timeout2"),n=e("#timeout").val();n==0?(e(".customTime").show(),t.focus(),t.rules("remove"),t.rules("add",{required:!0,number:!0,digits:!0,min:1,messages:{required:h.customTime,number:h.typeNumber,digits:h.typeDigits,min:h.minNumber}})):(e(".customTime").hide(),t.rules("remove"))},addValidateMethod:function(){var n=function(n,r){var i=e.Deferred(),o={status:"-1"};o[n]=r;var u={url:v.dataAPI.getUrlByFnName("listCorp"),data:o,async:!1,success:function(e){if(!e||e.length==0)i.resolve();else{var s=t.find(e,function(e){return e[n]==r});s?i.reject():i.resolve()}},fail:function(e){i.resolve()}};return s.request(u),i.state()};e.validator.addMethod("checkCompanyName",function(e,t){return n("name",e)=="resolved"},h.companyNameExisted),e.validator.addMethod("checkDomain",function(e,t){return n("domain",e)=="resolved"},h.domainExisted),e.validator.addMethod("checkUserId",function(t,n){if(t=="root")return!1;var r=e.Deferred(),i={userId:t},o={url:v.dataAPI.getUrlByFnName("searchUser")+"&page=1&pagesize=20&matchrule=equal",data:i,async:!1,success:function(e){var t=e.users;t&&t.length>0?r.reject():r.resolve()},fail:function(e){r.resolve()}};return s.request(o),r.state()=="resolved"},h.userIdExisted)},validate:function(){e(this.ui.formCtrlCon).validate({onkeyup:!1,rules:{"company-name":{required:!0,companyName:!0,checkCompanyName:!0},"company-domain":{required:!0,domain:!0,checkDomain:!0},"user-count":{required:!0,number:!0,min:0},"company-space":{required:!0,number:!0,min:0},"company-account":{required:!0,account:!0,checkUserId:!0},"company-pswd":{required:!0,minlength:6,companyPswd:!0},"company-pswd-2":{required:!0,minlength:6,companyPswd:!0,equalTo:"#company-pswd"}},messages:{"company-name":{required:h.typeName,companyName:h.typeLegalName},"company-domain":{required:h.typeDomain},"user-count":{required:h.typeUserLimit,number:h.typeNumber,min:h.minNumber},"company-space":{required:h.typeSpace,number:h.typeNumber,min:h.minNumber},"company-account":{required:h.typeAccount,account:h.typeLegalAccount,remote:h.accountExist},"company-pswd":{required:h.typePwd,minlength:h.minPsw,maxlength:h.maxPws,companyPswd:h.legalPsw},"company-pswd-2":{required:h.typeConfirmPwd,minlength:h.minPsw,maxlength:h.maxPws,equalTo:h.pswNotEqual,companyPswd:h.legalPsw}},wrapper:"span",errorPlacement:function(t,n){e(n).parent().append(t.prepend('<i class="i-warm ml_5"></i>'))}})},add:function(){if(!e(this.ui.formCtrlCon).valid())return;var t=r.convertToB(e("#company-space").val(),e(this.ui.unitSelect).val()),n=e("#timeout").val();n==0&&(n=e("#timeout2").val());var i={name:e("#company-name").val(),domain:e("#company-domain").val().toLowerCase(),outDate:n,storage:t,userLimit:e("#user-count").val(),status:e("#company-status").val(),userId:e("#company-account").val(),pwd:c.MD5(e("#company-pswd").val()).toString().toUpperCase(),affirmPwd:c.MD5(e("#company-pswd-2").val()).toString().toUpperCase()},o={url:v.dataAPI.getUrlByFnName("addCorp"),data:i,success:function(e){u.tips(h.addComSuc),setTimeout(function(){window.location.reload()},800)},fail:function(e){u.tips(r.mergeErrMsg(h.addComFail,e))}};s.request(o)}},editCompany:{el:"#editCompany",ui:{select:"#editCompany .real-select",name:"#company-name-edit",domain:"#company-domain-edit",space:"#company-space-edit",spaceUnit:"#unit-select-edit",timeout:"#timeout-edit",count:"#user-count-edit",status:"#company-status-edit",editOk:"#edit-ok",editCancel:"#edit-cancel",formCtrlCon:"#formCtrl-edit-form"},init:function(t){this.initEvents(),this.getData(t),this.isInitialized=!0,e(this.el).show().siblings().hide()},initSelect:function(){this.outDateSelect=new Dropkick(e(this.ui.timeout)[0]),this.statusSelect=new Dropkick(e(this.ui.status)[0]),this.spaceUnitSelect=new Dropkick(e(this.ui.spaceUnit)[0])},initEvents:function(){var t=this;if(this.isInitialized)return;e(this.ui.editOk).on("click",function(){t.update()}),e(this.ui.editCancel).on("click",function(){d.callModule(v.companyManage.listCompany)}),e(this.el).on("change","#timeout-edit",function(){t.customTime()})},getData:function(e){var t=this,n={url:v.dataAPI.getUrlByFnName("getCorpDetail"),data:{corpId:e},success:function(e){t.render(e)},fail:function(e){u.tips(r.mergeErrMsg(h.getComInfoFail,e))}};s.request(n)},tplHelper:function(e){var n=t.extend({},e);n.outDateOrg=n.outDate,n.outDate=r.getOutDate(n.outDate);var i=r.formatStorageUnit(n.storage,!0);return n.storage=i.num,n},render:function(t){this.model=t;var n=e("#formCtrl-edit"),i=this.tplHelper(t),s=r.tpl2Html(r.getTemplate(a,"#formCtrl-edit-tpl"),i);n.html(s),this.initSelect(),this.addValidateMethod(),this.validate();var o=[-1,3,6,12],u=t.outDate;o.indexOf(u)<=-1&&(u=0),this.outDateSelect.select(u.toString()),e("#timeout3").blur(),this.statusSelect.select(t.status.toString()),this.spaceUnitSelect.select(r.formatStorageUnit(t.storage,!0).unit.toString())},customTime:function(){var t=e("#timeout3"),n=e("#timeout-edit").val();if(n==0){e(".customTime").show(),t.focus();try{t.rules("remove"),t.rules("add",{required:!0,number:!0,digits:!0,min:1,messages:{required:h.customTime,number:h.typeNumber,digits:h.typeDigits,min:h.minNumber}})}catch(r){}}else e(".customTime").hide(),t.rules("remove")},addValidateMethod:function(){var n=function(n,r){var i=e.Deferred(),o={status:"-1"};o[n]=r;var u={url:v.dataAPI.getUrlByFnName("listCorp"),data:o,async:!1,success:function(e){if(!e||e.length==0)i.resolve();else{var s=t.find(e,function(e){return e[n]==r});s?i.reject():i.resolve()}},fail:function(e){i.resolve()}};return s.request(u),i.state()};e.validator.addMethod("checkCompanyName",function(t,r){var i=e(r).data("original");return t==i?!0:n("name",t)=="resolved"},h.companyNameExisted),e.validator.addMethod("checkDomain",function(t,r){var i=e(r).data("original");return t==i?!0:n("domain",t)=="resolved"},h.domainExisted)},validate:function(){e(this.ui.formCtrlCon).validate({onkeyup:!1,rules:{"company-name-edit":{required:!0,companyName:!0,checkCompanyName:!0},"company-domain-edit":{required:!0,domain:!0,checkDomain:!0},"user-count-edit":{required:!0,number:!0,min:0},"company-space-edit":{required:!0,number:!0,min:0},remark:{remark:!0}},messages:{"company-name-edit":{required:h.typeName,companyName:h.typeLegalName},"company-domain-edit":{required:h.typeDomain},"user-count-edit":{required:h.typeUserLimit,number:h.typeNumber,min:h.minNumber},"company-space-edit":{required:h.typeSpace,number:h.typeNumber,min:h.minNumber},remark:{remark:h.remarkLength}},wrapper:"span",errorPlacement:function(t,n){e(n).parent().append(t.prepend('<i class="i-warm ml_5"></i>'))}})},update:function(){var n=this;if(!e(this.ui.formCtrlCon).valid())return;var i=r.convertToB(e(n.ui.space).val(),e(this.ui.spaceUnit).val()),o=e(n.ui.timeout).val();o==0&&(o=e("#timeout3").val());var a={name:e.trim(e(n.ui.name).val()),domain:e(n.ui.domain).val().toLowerCase(),outDate:Number(o),storage:i,userLimit:Number(e(n.ui.count).val()),status:Number(e(n.ui.status).val())},f=t.omit(a,function(e,t,r){return n.model[t]==e});if(t.isEmpty(f)){d.callModule(v.companyManage.listCompany);return}f.corpId=n.model.corpId,f.status===undefined&&(f.status=-1);var l={url:v.dataAPI.getUrlByFnName("updateCorp"),data:f,success:function(e){n.model=a,u.tips(h.editComSuc),d.callModule(v.companyManage.listCompany)},fail:function(e){u.tips(r.mergeErrMsg(h.editComFail,e))}};s.request(l)},destroy:function(){e("#formCtrl-edit .subCon input").val("")}},showCompany:{el:"#showCompany",init:function(t){e(this.el).show().siblings().hide(),this.getData(t)},getData:function(e){var t=this,n={url:v.dataAPI.getUrlByFnName("getCorpDetail"),data:{corpId:e},success:function(e){t.render(e)},fail:function(e){u.tips(r.mergeErrMsg(h.getComInfoFail,e))}};s.request(n)},tplHelper:function(e){return e.outDate=r.getOutDate(e.outDate),e.storage=r.formatStorageUnit(e.storage),e.userLimit=e.userLimit+h.userUnit,e.status=r.getStatus(e.status),e},render:function(t){if(!t)return;this.model=t;var n=e("#detail-con"),i=e("#detail-con-tpl"),s=this.tplHelper(t),o=r.tpl2Html(r.getTemplate(a,"#detail-con-tpl"),s);n.html(o)},destroy:function(){e("#detail-con .subCon").html("")}}},v.accountSecurity={ui:{minLength:"#min-length",special:"#account-checkbox-1",caps:"#account-checkbox-2",weak:"#account-checkbox-3",duration:"#password-duration",accountOk:"#account-ok"},init:function(){this.initSelect(),this.initEvents(),this.initData(),this.isInitialized=!0,e(".container .tab-li").hide(),e("#accountSecurity").show()},initSelect:function(){if(this.isInitialized)return;this.minLengthSelect=new Dropkick(e(this.ui.minLength)[0]),this.durationSelect=new Dropkick(e(this.ui.duration)[0])},initEvents:function(){if(this.isInitialized)return;var t=this;e(t.ui.accountOk).on("click",function(){t.updateAccountRule()})},initData:function(){var e=this,t={url:v.dataAPI.getUrlByFnName("getAccountRule"),data:{corpId:v.model.corpId},success:function(t){e.render(t)},fail:function(e){u.tips(r.mergeErrMsg(h.getSafeInfoFail,e))}};s.request(t)},render:function(t){var n=t[0],r=t[4],i=t[1],s=t[2],o=t[3];this.minLengthSelect.select(n.ruleValue.toString()),this.durationSelect.select(r.ruleValue.toString()),e(this.ui.special).prop("checked",i.isCheck),e(this.ui.caps).prop("checked",s.isCheck),e(this.ui.weak).prop("checked",o.isCheck)},updateAccountRule:function(){var t=this,n=e(t.ui.minLength).val(),i=e(t.ui.special).is(":checked"),o=e(t.ui.caps).is(":checked"),a=e(t.ui.weak).is(":checked"),f=e(t.ui.duration).val(),l=v.model.corpId,c=[{corpId:l,ruleId:1,ruleValue:n,isCheck:""},{corpId:l,ruleId:2,ruleValue:"",isCheck:i?1:0},{corpId:l,ruleId:3,ruleValue:"",isCheck:o?1:0},{corpId:l,ruleId:4,ruleValue:"",isCheck:a?1:0},{corpId:l,ruleId:5,ruleValue:f,isCheck:""}],h={url:v.dataAPI.getUrlByFnName("updateAccountRule"),data:c,success:function(e){u.tips(p.setSuc)},fail:function(e){u.tips(r.mergeErrMsg(p.setFail,e))}};s.request(h)}},v.normalSetting={el:"#normalSetting",init:function(){this.getData(),this.initEvents(),this.initValid(),this.isInitialized=!0},render:function(t){t=t||{diskMaxFileUpLoad:0,diskMaxUserCapacity:0,maxUserTeamCapacity:0,maxUserTeamNum:0,maxUserTeamMember:0,diskMaxFileDownNum:0,diskMaxFileDownTime:0,diskVersionsNum:0,diskVersionsTime:0},t.diskMaxFileUpLoad=r.formatStorageUnit(t.diskMaxFileUpLoad,!0,"G").num,t.diskMaxUserCapacity=r.formatStorageUnit(t.diskMaxUserCapacity,!0,"M").num,t.maxUserTeamCapacity=r.formatStorageUnit(t.maxUserTeamCapacity,!0,"M").num;var n=r.getTemplate(a,"#normalSetting2");e("#ns-ul").html(r.tpl2Html(n,t))},initEvents:function(){var t=this;if(this.isInitialized)return;e("#s-btn-ok").on("click",function(){e("#nsForm").valid()&&t.setData()})},getData:function(){var e=this,t={url:v.dataAPI.getUrlByFnName("getCorpService"),data:{corpId:v.model.corpId},success:function(t){e.render(t)},fail:function(t){u.tips(r.mergeErrMsg(h.fetchNormalFail,t)),e.render()}};s.request(t)},setData:function(){var t=this,n={};e("#ns-ul input").each(function(){var t=e(this),r=t.attr("name");n[r]=Number(t.val())}),n.diskMaxFileUpLoad=r.convertToB(n.diskMaxFileUpLoad,"G"),n.diskMaxUserCapacity=r.convertToB(n.diskMaxUserCapacity,"M"),n.maxUserTeamCapacity=r.convertToB(n.maxUserTeamCapacity,"M"),n.corpId=v.model.corpId;var i={url:v.dataAPI.getUrlByFnName("updateCorpService"),data:n,success:function(e){u.tips(h.settingSaved)},fail:function(e){u.tips(r.mergeErrMsg(h.settingFail,e))}};s.request(i)},initValid:function(){e("#nsForm").validate({rules:{diskMaxFileUpLoad:{required:!0,number:!0,min:0},diskMaxUserCapacity:{required:!0,number:!0,min:0},maxUserTeamCapacity:{required:!0,number:!0,min:0},maxUserTeamNum:{required:!0,number:!0,digits:!0,min:0},maxUserTeamMember:{required:!0,number:!0,digits:!0,min:0},diskMaxFileDownNum:{required:!0,number:!0,digits:!0,min:0},diskMaxFileDownTime:{required:!0,number:!0,digits:!0,min:0},diskVersionsNum:{required:!0,number:!0,digits:!0,min:0},diskVersionsTime:{required:!0,number:!0,digits:!0,min:0}},messages:{diskMaxFileUpLoad:{required:h.diskMaxFileUpLoad,number:!0,min:h.minNumber},diskMaxUserCapacity:{required:h.diskMaxUserCapacity,number:!0,min:h.minNumber},maxUserTeamCapacity:{required:h.maxUserTeamCapacity,number:!0,min:h.minNumber},maxUserTeamNum:{required:h.maxUserTeamNum,number:!0,min:h.minNumber,digits:h.typeDigits},maxUserTeamMember:{required:h.maxUserTeamMember,number:!0,min:h.minNumber,digits:h.typeDigits},diskMaxFileDownNum:{required:h.diskMaxFileDownNum,number:!0,min:h.minNumber,digits:h.typeDigits},diskMaxFileDownTime:{required:h.diskMaxFileDownTime,number:!0,min:h.minNumber,digits:h.typeDigits},diskVersionsNum:{required:h.diskVersionsNum,number:!0,min:h.minNumber,digits:h.typeDigits},diskVersionsTime:{required:h.diskVersionsTime,number:!0,min:h.minNumber,digits:h.typeDigits}},wrapper:"span",errorPlacement:function(t,n){e(n).parent().append(t.prepend('<i class="i-warm ml_5"></i>'))}})}},v.messageSetting={},v.companyDiy={},v.dataAPI=t.extend({},r.APIObj,{fnName:{addCorp:"corp:addCorp",updateCorp:"corp:updateCorp",getCorpDetail:"corp:getCorpDetail",listCorp:"corp:listCorp",updateCorpStatus:"corp:updateCorpStatus",updateAccountRule:"account:updateAccountRule",getAccountRule:"account:getAccountRule",getCorpService:"corp:getCorpService",updateCorpService:"corp:updateCorpService",searchUser:"user:searchUser"}}),{init:function(){v.init()}}});